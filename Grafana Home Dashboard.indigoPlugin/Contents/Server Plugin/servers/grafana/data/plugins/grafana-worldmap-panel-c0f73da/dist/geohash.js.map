{"version":3,"sources":["../src/geohash.js"],"names":["decodeGeoHash","geohash","length","Error","BITS","BASE32","isEven","lat","lon","base32Decoded","split","forEach","item","indexOf","mask","refineInterval","latCenter","lonCenter","latitude","longitude","interval"],"mappings":";;;;;AAAe,WAASA,aAAT,CAAuBC,OAAvB,EAAgC;AAC7C,QAAI,CAACA,OAAD,IAAYA,QAAQC,MAAR,KAAmB,CAAnC,EAAsC,MAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;;AAEtC,QAAMC,OAAO,CAAC,EAAD,EAAK,CAAL,EAAQ,CAAR,EAAW,CAAX,EAAc,CAAd,CAAb;AACA,QAAMC,SAAS,kCAAf;AACA,QAAIC,SAAS,CAAb;AACA,QAAMC,MAAM,EAAZ;AACA,QAAMC,MAAM,EAAZ;AACAD,QAAI,CAAJ,IAAS,CAAC,IAAV;AACAA,QAAI,CAAJ,IAAS,IAAT;AACAC,QAAI,CAAJ,IAAS,CAAC,KAAV;AACAA,QAAI,CAAJ,IAAS,KAAT;AACA,QAAIC,sBAAJ;;AAEAR,YAAQS,KAAR,CAAc,EAAd,EAAkBC,OAAlB,CAA0B,UAACC,IAAD,EAAU;AAClCH,sBAAgBJ,OAAOQ,OAAP,CAAeD,IAAf,CAAhB;AACAR,WAAKO,OAAL,CAAa,UAACG,IAAD,EAAU;AACrB,YAAIR,MAAJ,EAAY;AACVS,yBAAeP,GAAf,EAAoBC,aAApB,EAAmCK,IAAnC;AACD,SAFD,MAEO;AACLC,yBAAeR,GAAf,EAAoBE,aAApB,EAAmCK,IAAnC;AACD;AACDR,iBAAS,CAACA,MAAV;AACD,OAPD;AAQD,KAVD;AAWA,QAAMU,YAAY,CAACT,IAAI,CAAJ,IAASA,IAAI,CAAJ,CAAV,IAAoB,CAAtC;AACA,QAAMU,YAAY,CAACT,IAAI,CAAJ,IAASA,IAAI,CAAJ,CAAV,IAAoB,CAAtC;;AAEA,WAAO,EAAEU,UAAUF,SAAZ,EAAuBG,WAAWF,SAAlC,EAAP;AACD;;qBA7BuBjB,a;;AA+BxB,WAASe,cAAT,CAAwBK,QAAxB,EAAkCX,aAAlC,EAAiDK,IAAjD,EAAuD;AACrD;AACA,QAAIL,gBAAgBK,IAApB,EAA0B;AACxBM,eAAS,CAAT,IAAc,CAACA,SAAS,CAAT,IAAcA,SAAS,CAAT,CAAf,IAA8B,CAA5C;AACD,KAFD,MAEO;AACLA,eAAS,CAAT,IAAc,CAACA,SAAS,CAAT,IAAcA,SAAS,CAAT,CAAf,IAA8B,CAA5C;AACD;AACF","file":"geohash.js","sourcesContent":["export default function decodeGeoHash(geohash) {\n  if (!geohash || geohash.length === 0) throw new Error('Missing geohash value');\n\n  const BITS = [16, 8, 4, 2, 1];\n  const BASE32 = '0123456789bcdefghjkmnpqrstuvwxyz';\n  let isEven = 1;\n  const lat = [];\n  const lon = [];\n  lat[0] = -90.0;\n  lat[1] = 90.0;\n  lon[0] = -180.0;\n  lon[1] = 180.0;\n  let base32Decoded;\n\n  geohash.split('').forEach((item) => {\n    base32Decoded = BASE32.indexOf(item);\n    BITS.forEach((mask) => {\n      if (isEven) {\n        refineInterval(lon, base32Decoded, mask);\n      } else {\n        refineInterval(lat, base32Decoded, mask);\n      }\n      isEven = !isEven;\n    });\n  });\n  const latCenter = (lat[0] + lat[1]) / 2;\n  const lonCenter = (lon[0] + lon[1]) / 2;\n\n  return { latitude: latCenter, longitude: lonCenter};\n}\n\nfunction refineInterval(interval, base32Decoded, mask) {\n  /* eslint no-bitwise: 0 */\n  if (base32Decoded & mask) {\n    interval[0] = (interval[0] + interval[1]) / 2;\n  } else {\n    interval[1] = (interval[0] + interval[1]) / 2;\n  }\n}\n"]}