(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1563:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return g}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return f}),n.d(t,"g",function(){return v}),n.d(t,"t",function(){return b}),n.d(t,"f",function(){return x}),n.d(t,"h",function(){return E}),n.d(t,"i",function(){return w}),n.d(t,"k",function(){return O}),n.d(t,"j",function(){return N}),n.d(t,"m",function(){return k}),n.d(t,"n",function(){return I}),n.d(t,"o",function(){return j}),n.d(t,"p",function(){return R}),n.d(t,"q",function(){return T}),n.d(t,"r",function(){return _}),n.d(t,"s",function(){return D}),n.d(t,"c",function(){return q}),n.d(t,"l",function(){return Q});var r=n(1),a=n(70),o=n(99),i=n(34),s=n(56),l=n(17),c=n(308),u=n(130),p=n(290),d=function(e,t){return function(n){n(Object(l.R)(r.a({exploreId:e},t))),n(Object(l.I)())}};function m(e,t){return function(n,r){var a=r().explore[e].queries,o=Object(i.g)(a,t);n(Object(l.b)({exploreId:e,index:t,query:o}))}}function g(e,t){var n=this;return function(a,i){return r.b(n,void 0,void 0,function(){var n,s,c,p;return r.d(this,function(r){switch(r.label){case 0:return n=null,t?[3,2]:[4,Object(o.a)().get()];case 1:return n=r.sent(),[3,4];case 2:return[4,Object(o.a)().get(t)];case 3:n=r.sent(),r.label=4;case 4:return s=i().explore[e].datasourceInstance,c=i().explore[e].queries,p=i().user.orgId,a(Object(l.P)({exploreId:e,datasourceInstance:n})),[4,a(C(e,c,s,n))];case 5:return r.sent(),i().explore[e].isLive&&a(x(e,u.c.value)),[4,a(L(e,n,p))];case 6:return r.sent(),a(k(e)),[2]}})})}}function h(e,t){return function(n){n(Object(l.h)({exploreId:e})),n(Object(l.c)({exploreId:e,mode:t}))}}function f(e,t,n,r){return function(a,o){if(null===t){var s=o().explore[e].queries,c=s[n],u=c.refId,p=c.key;t=Object(i.h)({refId:u,key:p},s,n)}a(Object(l.d)({exploreId:e,query:t,index:n,override:r})),r&&a(k(e))}}function v(e,t){var n=t.height,r=t.width;return Object(l.g)({exploreId:e,height:n,width:r})}var b=function(e){return function(t){t(Object(l.Q)(r.a({},e))),t(k(e.exploreId))}};function x(e,t){return Object(l.f)({exploreId:e,refreshInterval:t})}function E(e){return function(t){t(Object(l.D)({exploreId:e})),t(Object(l.h)({exploreId:e})),t(Object(l.I)())}}function w(e,t,n,a,s,u,p,d){var m=this;return function(h,f){return r.b(m,void 0,void 0,function(){var m,v;return r.d(this,function(r){return m=Object(c.a)(f().user),v=Object(i.o)(m,a),h(function(e,t){return function(n){var r=Object(o.a)().getExternal().map(function(e){return{value:e.name,name:e.name,meta:e.meta}});n(Object(l.p)({exploreId:e,exploreDatasources:r})),r.length>=1?n(g(e,t)):n(Object(l.m)({exploreId:e}))}}(e,t)),h(Object(l.k)({exploreId:e,containerWidth:u,eventBridge:p,queries:n,range:v,mode:s,ui:d})),h(Object(l.Q)({exploreId:e})),[2]})})}}var y=function(e,t,n){var r="grafana.explore.history."+t.meta.id,o=a.a.getObject(r,[]);return a.a.set(Object(i.t)(n),t.name),Object(l.o)({exploreId:e,history:o})};function C(e,t,n,a){var o=this;return function(s){return r.b(o,void 0,void 0,function(){var o,c;return r.d(this,function(u){switch(u.label){case 0:return n?(o=t,n.meta.id!==a.meta.id?[3,1]:(o=r.h(t),[3,4])):(s(Object(l.t)({exploreId:e,queries:t})),[2]);case 1:return a.importQueries?[4,a.importQueries(t,n.meta)]:[3,3];case 2:return o=u.sent(),[3,4];case 3:o=Object(i.f)(),u.label=4;case 4:return c=Object(i.f)(o),s(Object(l.t)({exploreId:e,queries:c})),[2]}})})}}var S=function(e,t){return function(n){return r.b(void 0,void 0,void 0,function(){var a,o,i;return r.d(this,function(r){switch(r.label){case 0:a=null,n(Object(l.K)({exploreId:e})),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.testDatasource()];case 2:return o=r.sent(),a="success"===o.status?null:o.message,[3,4];case 3:return i=r.sent(),a=i&&i.statusText||"Network error",[3,4];case 4:return a?(n(Object(l.J)({exploreId:e,error:a})),[2]):(n(Object(l.L)({exploreId:e})),[2])}})})}},O=function(e){return function(t,n){return r.b(void 0,void 0,void 0,function(){var a;return r.d(this,function(r){return a=n().explore[e].datasourceInstance,t(g(e,a.name)),[2]})})}};function L(e,t,n){var a=this;return function(o,i){return r.b(a,void 0,void 0,function(){var a;return r.d(this,function(r){switch(r.label){case 0:return a=t.name,o(Object(l.n)({exploreId:e,requestedDatasourceName:a})),[4,o(S(e,t))];case 1:if(r.sent(),a!==i().explore[e].requestedDatasourceName)return[2];if(t.init)try{t.init()}catch(e){console.log(e)}return a!==i().explore[e].requestedDatasourceName?[2]:(o(y(e,t,n)),[2])}})})}}function N(e,t,n,r){return function(a){a(Object(l.q)({exploreId:e,modification:t,index:n,modifier:r})),t.preventSubmit||a(k(e))}}function k(e){return function(t,n){t(Object(l.Q)({exploreId:e})),t(Object(l.A)({exploreId:e}))}}function I(e){return function(t,n){t(Object(l.C)({exploreId:e}));var r=Object(p.a)(-1,n().explore[e].range);t(Object(l.Q)({exploreId:e,absoluteRange:r})),t(Object(l.A)({exploreId:e}))}}function j(e,t){return function(n,r){var a=r().explore[e].queries,o=t.map(function(e,t){return Object(i.h)(e,a,t)});n(Object(l.E)({exploreId:e,queries:o})),n(k(e))}}function R(e){return function(t){t(Object(l.G)({itemId:e})),t(Object(l.I)())}}function T(){return function(e,t){var n=t().explore[s.a.left],a=t().location.query[s.a.left],o=Object(i.u)(a),c=r.a({},n,{queryTransactions:[],queries:n.queries.slice(),exploreId:s.a.right,urlState:o});e(Object(l.H)({itemState:c})),e(Object(l.I)())}}var M=function(e){return function(t,n){return function(r){var a,o=!n;switch(e.type){case l.M.type:a={showingGraph:!n};break;case l.O.type:a={showingTable:!n}}r(e({exploreId:t})),r(d(t,a)),o&&r(k(t))}}},_=M(l.M),D=M(l.O),q=function(e,t){return function(n){n(d(e,{dedupStrategy:t}))}};function Q(e){return function(t,n){var a=n().explore[e];if(a.initialized){for(var o=a.urlState,s=a.update,u=a.containerWidth,p=a.eventBridge,d=o.datasource,m=o.queries,g=o.range,h=o.mode,f=o.ui,v=[],b=0;b<m.length;b++){var x=m[b];v.push(Object(i.h)(x,v,b))}var E=Object(c.a)(n().user),y=Object(i.p)(g,E);if(s.datasource){var C=Object(i.f)(m);t(w(e,d,C,y,h,u,p,f))}else s.range&&t(Object(l.Q)({exploreId:e,rawRange:y.raw})),s.ui&&t(Object(l.R)(r.a({},f,{exploreId:e}))),s.queries&&t(Object(l.E)({exploreId:e,queries:v})),s.mode&&t(Object(l.c)({exploreId:e,mode:h})),(s.queries||s.ui||s.range)&&t(k(e))}}}},1564:function(e,t,n){"use strict";var r=n(1),a=n(0),o=n.n(a),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickToggle=function(){var e=t.props,n=e.onToggle,r=e.isOpen;n&&n(!r)},t}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.isOpen,n=e.loading,r=e.collapsible?"explore-panel explore-panel--collapsible panel-container":"explore-panel panel-container",a=t?"fa fa-caret-up":"fa fa-caret-down",i=n?"explore-panel__loader explore-panel__loader--active":"explore-panel__loader";return o.a.createElement("div",{className:r},o.a.createElement("div",{className:"explore-panel__header",onClick:this.onClickToggle},o.a.createElement("div",{className:"explore-panel__header-buttons"},o.a.createElement("span",{className:a})),o.a.createElement("div",{className:"explore-panel__header-label"},this.props.label)),t&&o.a.createElement("div",{className:"explore-panel__body"},o.a.createElement("div",{className:i}),this.props.children))},t}(a.PureComponent);t.a=i},1565:function(e,t,n){"use strict";var r=n(1),a=n(0),o=n.n(a),i=function(e){function t(t){var n=e.call(this,t)||this;return n.state={error:null,errorInfo:null},n}return r.c(t,e),t.prototype.componentDidCatch=function(e,t){this.setState({error:e,errorInfo:t})},t.prototype.render=function(){return this.state.errorInfo?o.a.createElement("div",{className:"explore-container"},o.a.createElement("h3",null,"An unexpected error happened."),o.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},this.state.error&&this.state.error.toString(),o.a.createElement("br",null),this.state.errorInfo.componentStack)):this.props.children},t}(a.Component);t.a=i},1566:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),a=n.n(r),o=function(e){var t=e.message,n=e.button;return a.a.createElement("div",{className:"alert-container"},a.a.createElement("div",{className:"alert-error alert"},a.a.createElement("div",{className:"alert-icon"},a.a.createElement("i",{className:"fa fa-exclamation-triangle"})),a.a.createElement("div",{className:"alert-body"},a.a.createElement("div",{className:"alert-title"},t)),n&&a.a.createElement("div",{className:"alert-button"},a.a.createElement("button",{className:"btn btn-outline-danger",onClick:n.onClick},n.text))))}},1567:function(e,t,n){"use strict";var r=n(1),a=n(10),o=n.n(a),i=n(0),s=n.n(i),l=n(357),c=n.n(l),u=(n(276),n(507),n(506),n(508),n(3));function p(e,t,n){if(t&&n&&e){var r=n-t,a=r/e/1e3;return a<=45?"%H:%M:%S":a<=7200||r<=864e5?"%H:%M":a<=8e4?"%m/%d %H:%M":a<=2419200||r<=31536e6?"%m/%d":"%Y-%m"}return"%H:%M"}var d={legend:{show:!1},series:{lines:{linewidth:1,zero:!1},shadowSize:0},grid:{minBorderMargin:0,markings:[],backgroundColor:null,borderWidth:0,clickable:!0,color:"#a1a1a1",margin:{left:0,right:0},labelMarginX:0},selection:{mode:"x",color:"#666"}},m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dynamicOptions=null,t.state={hiddenSeries:[],showAllTimeSeries:!1},t.onPlotSelected=function(e,n){t.props.onChangeTime&&t.props.onChangeTime({from:n.xaxis.from,to:n.xaxis.to})},t.onShowAllTimeSeries=function(){t.setState({showAllTimeSeries:!0},t.draw)},t.getLegendItems=function(){var e=t.state.hiddenSeries;return t.getGraphData().map(function(t){return{label:t.alias,color:t.color,isVisible:-1===e.indexOf(t.alias),yAxis:1}})},t}return r.c(t,e),t.prototype.getGraphData=function(){var e=this.props.data;return this.state.showAllTimeSeries?e:e.slice(0,20)},t.prototype.componentDidMount=function(){this.draw(),this.$el=o()("#"+this.props.id),this.$el.bind("plotselected",this.onPlotSelected)},t.prototype.componentDidUpdate=function(e,t){e.data===this.props.data&&e.range===this.props.range&&e.split===this.props.split&&e.height===this.props.height&&e.width===this.props.width&&t.hiddenSeries===this.state.hiddenSeries||this.draw()},t.prototype.componentWillUnmount=function(){this.$el.unbind("plotselected",this.onPlotSelected)},t.prototype.getDynamicOptions=function(){var e=this.props,t=e.range,n=e.width,r=e.timeZone,a=(n||0)/100,o=t.from,i=t.to;return{xaxis:{mode:"time",min:o,max:i,label:"Datetime",ticks:a,timezone:r,timeformat:p(a,o,i)}}},t.prototype.draw=function(){var e=this.props.userOptions,t=void 0===e?{}:e,n=this.state.hiddenSeries,a=this.getGraphData(),i=o()("#"+this.props.id),s=[{data:[[0,0]]}];a&&a.length>0&&(s=a.filter(function(e){return-1===n.indexOf(e.alias)}).map(function(e){return{color:e.color,label:e.label,data:e.getFlotPairs("null")}})),this.dynamicOptions=this.getDynamicOptions();var l=r.a({},d,this.dynamicOptions,t);o.a.plot(i,s,l)},t.prototype.onSeriesToggle=function(e,t){var n=t.ctrlKey||t.metaKey||t.shiftKey;this.setState(function(t,r){var a=r.data,o=r.onToggleSeries,i=[];if(n)i=t.hiddenSeries.indexOf(e)>-1?t.hiddenSeries.filter(function(t){return t!==e}):t.hiddenSeries.concat([e]);else{var s=a.map(function(e){return e.label});i=t.hiddenSeries.length+1===s.length?[]:c()(s,[e])}return o&&o(e,i),{hiddenSeries:i}})},t.prototype.render=function(){var e=this,t=this.props,n=t.height,r=void 0===n?100:n,a=t.id,o=void 0===a?"graph":a;return s.a.createElement(s.a.Fragment,null,this.props.data&&this.props.data.length>20&&!this.state.showAllTimeSeries&&s.a.createElement("div",{className:"time-series-disclaimer"},s.a.createElement("i",{className:"fa fa-fw fa-warning disclaimer-icon"}),"Showing only 20 time series. ",s.a.createElement("span",{className:"show-all-time-series",onClick:this.onShowAllTimeSeries},"Show all "+this.props.data.length)),s.a.createElement("div",{id:o,className:"explore-graph",style:{height:r}}),s.a.createElement(u.GraphLegend,{items:this.getLegendItems(),displayMode:u.LegendDisplayMode.List,placement:"under",onLabelClick:function(t,n){e.onSeriesToggle(t.label,n)}}))},t}(i.PureComponent);t.a=m},1568:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),a=n(0),o=n.n(a),i=n(3),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.label,r=e.transparent;return o.a.createElement("div",{className:"gf-form"},n&&o.a.createElement("label",{className:"gf-form-label "+(r?"gf-form-label--transparent":"")},n),o.a.createElement("div",{className:"toggle-button-group "+(r?"toggle-button-group--transparent":"")},t))},t}(a.PureComponent);t.b=s;var l=function(e){var t=e.children,n=e.selected,r=e.className,a=void 0===r?"":r,s=e.value,l=void 0===s?null:s,c=e.tooltip,u=e.onChange,p="btn "+a+" "+(n?"active":""),d=o.a.createElement("button",{className:p,onClick:function(e){e.stopPropagation(),!n&&u&&u(l)}},o.a.createElement("span",null,t));return c?o.a.createElement(i.Tooltip,{content:c,placement:"bottom"},d):d}},1569:function(e,t,n){"use strict";var r=n(1),a=n(0),o=n.n(a),i=n(5),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={elapsed:0},t.tick=function(){var e=Date.now()-t.offset;t.setState({elapsed:e})},t}return r.c(t,e),t.prototype.start=function(){this.offset=Date.now(),this.timer=window.setInterval(this.tick,150)},t.prototype.componentWillReceiveProps=function(e){e.time?clearInterval(this.timer):this.props.time&&this.start(),e.renderCount&&(clearInterval(this.timer),this.start())},t.prototype.componentDidMount=function(){this.start()},t.prototype.componentWillUnmount=function(){clearInterval(this.timer)},t.prototype.render=function(){var e=this.state.elapsed,t=this.props,n=t.className,r=t.time,a=t.humanize,s=((r||e)/1e3).toFixed(1)+"s";if(a){var l=Object(i.toDuration)(e),c=l.hours(),u=l.minutes(),p=l.seconds();s=c?c+"h "+u+"m "+p+"s":u?" "+u+"m "+p+"s":p+"s"}return o.a.createElement("span",{className:"elapsed-time "+n},s)},t}(a.PureComponent);t.a=s},1570:function(e,t,n){"use strict";(function(e){var r=n(1),a=n(0),o=n.n(a),i=n(37),s=n(23),l=n(227),c=n(70),u=n(1566),p=n(1565),d=n(1571),m=n(1572),g=n(1574),h=n(1578),f=n(1563),v=n(56),b=n(34),x=n(187),E=n(1580),w=n(1582),y=n(291),C=n(308),S=n(1583),O=n(17),L=function(e){function t(t){var n=e.call(this,t)||this;return n.getRef=function(e){n.el=e},n.onChangeTime=function(e){var t=n.props;(0,t.updateTimeRange)({exploreId:t.exploreId,rawRange:e})},n.onClickExample=function(e){n.props.setQueries(n.props.exploreId,[e])},n.onClickLabel=function(e,t){n.onModifyQueries({type:"ADD_FILTER",key:e,value:t})},n.onModifyQueries=function(e,t){var r=n.props.datasourceInstance;if(r&&r.modifyQuery){n.props.modifyQueries(n.props.exploreId,e,t,function(e,t){return r.modifyQuery(e,t)})}},n.onResize=function(e){n.props.changeSize(n.props.exploreId,e)},n.onStartScanning=function(){n.props.scanStart(n.props.exploreId)},n.onStopScanning=function(){n.props.scanStopAction({exploreId:n.props.exploreId})},n.refreshExplore=function(){var e=n.props,t=e.exploreId,r=e.update;(r.queries||r.ui||r.range||r.datasource)&&n.props.refreshExplore(t)},n.renderEmptyState=function(){return o.a.createElement("div",{className:"explore-container"},o.a.createElement(w.a,null))},n.onReconnect=function(e){var t=n.props,r=t.exploreId,a=t.reconnectDatasource;e.preventDefault(),a(r)},n.exploreEvents=new x.a,n}return r.c(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.initialized,n=e.exploreId,r=e.initialDatasource,a=e.initialQueries,o=e.initialRange,i=e.mode,s=e.initialUI,l=this.el?this.el.offsetWidth:0;t||this.props.initializeExplore(n,r,a,o,i,l,this.exploreEvents,s)},t.prototype.componentWillUnmount=function(){this.exploreEvents.removeAllListeners()},t.prototype.componentDidUpdate=function(e){this.refreshExplore()},t.prototype.render=function(){var e=this,t=this.props,n=t.StartPage,r=t.datasourceInstance,a=t.datasourceError,i=t.datasourceLoading,s=t.datasourceMissing,c=t.exploreId,f=t.showingStartPage,b=t.split,x=t.queryKeys,w=t.queryErrors,C=t.mode,O=b?"explore explore-split":"explore";return o.a.createElement("div",{className:O,ref:this.getRef},o.a.createElement(E.a,{exploreId:c,onChangeTime:this.onChangeTime}),i?o.a.createElement("div",{className:"explore-container"},"Loading datasource..."):null,s?this.renderEmptyState():null,o.a.createElement(y.a,{duration:a?150:5,in:!!a},o.a.createElement("div",{className:"explore-container"},o.a.createElement(u.a,{message:"Error connecting to datasource: "+a,button:{text:"Reconnect",onClick:this.onReconnect}}))),r&&o.a.createElement("div",{className:"explore-container"},o.a.createElement(g.a,{exploreEvents:this.exploreEvents,exploreId:c,queryKeys:x}),o.a.createElement(S.a,{queryErrors:w}),o.a.createElement(l.a,{onResize:this.onResize,disableHeight:!0},function(t){var r=t.width;return 0===r?null:o.a.createElement("main",{className:"m-t-2",style:{width:r}},o.a.createElement(p.a,null,f&&o.a.createElement(n,{onClickExample:e.onClickExample}),!f&&o.a.createElement(o.a.Fragment,null,C===v.b.Metrics&&o.a.createElement(d.a,{width:r,exploreId:c}),C===v.b.Metrics&&o.a.createElement(h.a,{exploreId:c,onClickCell:e.onClickLabel}),C===v.b.Logs&&o.a.createElement(m.a,{width:r,exploreId:c,onClickLabel:e.onClickLabel,onStartScanning:e.onStartScanning,onStopScanning:e.onStopScanning}))))})))},t}(o.a.PureComponent);var N={changeSize:f.g,initializeExplore:f.i,modifyQueries:f.j,reconnectDatasource:f.k,refreshExplore:f.l,scanStart:f.n,scanStopAction:O.D,setQueries:f.o,updateTimeRange:f.t};t.a=Object(i.hot)(e)(Object(s.b)(function(e,t){var n,r=t.exploreId,a=e.explore,o=a.split,i=a[r],s=Object(C.a)(e.user),l=i.StartPage,u=i.datasourceError,p=i.datasourceInstance,d=i.datasourceLoading,m=i.datasourceMissing,g=i.initialized,h=i.showingStartPage,f=i.queryKeys,x=i.urlState,E=i.update,w=i.queryErrors,y=i.isLive,S=i.supportedModes,O=i.mode,L=x||{},N=L.datasource,k=L.queries,I=L.range,j=L.mode,R=L.ui,T=N||c.a.get(Object(b.t)(e.user.orgId)),M=Object(b.f)(k),_=I?Object(b.p)(I,s).raw:b.a;if(S.length){var D=S.includes(j),q=S.includes(O);n=D?j:q?O:S[0]}else n=[v.b.Metrics,v.b.Logs].includes(j)?j:v.b.Metrics;return{StartPage:l,datasourceError:u,datasourceInstance:p,datasourceLoading:d,datasourceMissing:m,initialized:g,showingStartPage:h,split:o,queryKeys:f,update:E,initialDatasource:T,initialQueries:M,initialRange:_,mode:n,initialUI:R||b.b,queryErrors:w,isLive:y}},N)(L))}).call(this,n(74)(e))},1571:function(e,t,n){"use strict";(function(e){var r=n(1),a=n(0),o=n.n(a),i=n(37),s=n(23),l=n(5),c=n(1563),u=n(1567),p=n(1564),d=n(308),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickGraphButton=function(){t.props.toggleGraph(t.props.exploreId,t.props.showingGraph)},t.onChangeTime=function(e){var n=t.props,r=n.exploreId;(0,n.updateTimeRange)({exploreId:r,absoluteRange:e})},t}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.exploreId,n=e.graphResult,r=e.loading,a=e.showingGraph,i=e.showingTable,s=e.absoluteRange,l=e.split,c=e.width,d=e.timeZone,m=a&&i?200:400;return o.a.createElement(p.a,{label:"Graph",collapsible:!0,isOpen:a,loading:r,onToggle:this.onClickGraphButton},n&&o.a.createElement(u.a,{data:n,height:m,id:"explore-graph-"+t,onChangeTime:this.onChangeTime,range:s,timeZone:d,split:l,width:c}))},t}(a.PureComponent);var g={toggleGraph:c.r,updateTimeRange:c.t};t.a=Object(i.hot)(e)(Object(s.b)(function(e,t){var n=t.exploreId,r=e.explore,a=r.split,o=r[n],i=o.graphResult,s=o.loadingState,c=o.showingGraph,u=o.showingTable,p=o.absoluteRange;return{graphResult:i,loading:s===l.LoadingState.Loading||s===l.LoadingState.Streaming,showingGraph:c,showingTable:u,split:a,timeZone:Object(d.a)(e.user),absoluteRange:p}},g)(m))}).call(this,n(74)(e))},1572:function(e,t,n){"use strict";(function(e){var r=n(1),a=n(0),o=n.n(a),i=n(37),s=n(23),l=n(5),c=n(1563),u=n(1584),p=n(1564),d=n(17),m=n(1585),g=n(308),h=n(1573),f=n(130),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChangeTime=function(e){var n=t.props,r=n.exploreId;(0,n.updateTimeRange)({exploreId:r,absoluteRange:e})},t.onStopLive=function(){var e=t.props.exploreId;t.props.stopLive({exploreId:e,refreshInterval:f.c.value})},t.handleDedupStrategyChange=function(e){t.props.changeDedupStrategy(t.props.exploreId,e)},t.handleToggleLogLevel=function(e){var n=t.props.exploreId;t.props.toggleLogLevelAction({exploreId:n,hiddenLogLevels:e})},t.getLogRowContext=function(e,n){return r.b(t,void 0,void 0,function(){var t;return r.d(this,function(r){return(t=this.props.datasourceInstance)?[2,t.getLogRowContext(e,n)]:[2,[]]})})},t}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.exploreId,n=e.loading,r=e.logsHighlighterExpressions,a=e.logsResult,i=e.dedupedResult,s=e.onClickLabel,c=e.onStartScanning,d=e.onStopScanning,m=e.absoluteRange,g=e.timeZone,f=e.scanning,v=e.range,b=e.width,x=e.hiddenLogLevels;return e.isLive?o.a.createElement(p.a,{label:"Logs",loading:!1,isOpen:!0},o.a.createElement(h.a,{logsResult:a,timeZone:g,stopLive:this.onStopLive})):o.a.createElement(p.a,{label:"Logs",loading:n,isOpen:!0},o.a.createElement(u.a,{dedupStrategy:this.props.dedupStrategy||l.LogsDedupStrategy.none,data:a,dedupedData:i,exploreId:t,highlighterExpressions:r,loading:n,onChangeTime:this.onChangeTime,onClickLabel:s,onStartScanning:c,onStopScanning:d,onDedupStrategyChange:this.handleDedupStrategyChange,onToggleLogLevel:this.handleToggleLogLevel,absoluteRange:m,timeZone:g,scanning:f,scanRange:v.raw,width:b,hiddenLogLevels:x,getRowContext:this.getLogRowContext}))},t}(a.PureComponent);var b={changeDedupStrategy:c.c,toggleLogLevelAction:d.N,stopLive:d.f,updateTimeRange:c.t};t.a=Object(i.hot)(e)(Object(s.b)(function(e,t){var n=t.exploreId,r=e.explore[n],a=r.logsHighlighterExpressions,o=r.logsResult,i=r.loadingState,s=r.scanning,c=r.datasourceInstance,u=r.isLive,p=r.range,d=r.absoluteRange,h=i===l.LoadingState.Loading||i===l.LoadingState.Streaming,f=Object(m.b)(r).dedupStrategy,v=new Set(r.hiddenLogLevels),b=Object(m.a)(r);return{loading:h,logsHighlighterExpressions:a,logsResult:o,scanning:s,timeZone:Object(g.a)(e.user),dedupStrategy:f,hiddenLogLevels:v,dedupedResult:b,datasourceInstance:c,isLive:u,range:p,absoluteRange:d}},b)(v))}).call(this,n(74)(e))},1573:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r,a,o,i,s=n(1),l=n(0),c=n.n(l),u=n(8),p=n(3),d=n(1569),m=function(e){function t(t){var n=e.call(this,t)||this;return n.liveEndDiv=null,n.state={renderCount:0},n}return s.c(t,e),t.prototype.componentDidUpdate=function(e){(e.logsResult?e.logsResult.rows:[])!==(this.props.logsResult?this.props.logsResult.rows:[])&&this.setState({renderCount:this.state.renderCount+1}),this.liveEndDiv&&this.liveEndDiv.scrollIntoView(!1)},t.prototype.render=function(){var e=this,t=this.props,n=t.theme,l=t.timeZone,m=this.state.renderCount,g=function(e){return{logsRowsLive:Object(u.css)(r||(r=s.e(["\n    label: logs-rows-live;\n    display: flex;\n    flex-flow: column nowrap;\n    height: 65vh;\n    overflow-y: auto;\n    :first-child {\n      margin-top: auto !important;\n    }\n  "],["\n    label: logs-rows-live;\n    display: flex;\n    flex-flow: column nowrap;\n    height: 65vh;\n    overflow-y: auto;\n    :first-child {\n      margin-top: auto !important;\n    }\n  "]))),logsRowFresh:Object(u.css)(a||(a=s.e(["\n    label: logs-row-fresh;\n    color: ",";\n    background-color: ",";\n  "],["\n    label: logs-row-fresh;\n    color: ",";\n    background-color: ",";\n  "])),e.colors.text,Object(p.selectThemeVariant)({light:e.colors.gray6,dark:e.colors.gray1},e.type)),logsRowOld:Object(u.css)(o||(o=s.e(["\n    label: logs-row-old;\n    opacity: 0.8;\n  "],["\n    label: logs-row-old;\n    opacity: 0.8;\n  "]))),logsRowsIndicator:Object(u.css)(i||(i=s.e(["\n    font-size: ",";\n    padding: "," 0;\n    display: flex;\n    align-items: center;\n  "],["\n    font-size: ",";\n    padding: "," 0;\n    display: flex;\n    align-items: center;\n  "])),e.typography.size.md,e.spacing.sm)}}(n),h=this.props.logsResult?this.props.logsResult.rows:[],f="utc"===l;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Object(u.cx)(["logs-rows",g.logsRowsLive])},h.map(function(e,t){return c.a.createElement("div",{className:e.fresh?Object(u.cx)(["logs-row",g.logsRowFresh]):Object(u.cx)(["logs-row",g.logsRowOld]),key:e.timeEpochMs+"-"+t},f&&c.a.createElement("div",{className:"logs-row__localtime",title:"Local: "+e.timeLocal+" ("+e.timeFromNow+")"},e.timeUtc),!f&&c.a.createElement("div",{className:"logs-row__localtime",title:e.timeUtc+" ("+e.timeFromNow+")"},e.timeLocal),c.a.createElement("div",{className:"logs-row__message"},e.entry))}),c.a.createElement("div",{ref:function(t){e.liveEndDiv=t,e.liveEndDiv&&e.liveEndDiv.scrollIntoView(!1)}})),c.a.createElement("div",{className:Object(u.cx)([g.logsRowsIndicator])},c.a.createElement("span",null,"Last line received: ",c.a.createElement(d.a,{renderCount:m,humanize:!0})," ago"),c.a.createElement(p.LinkButton,{onClick:this.props.stopLive,size:"md",variant:"transparent",style:{color:n.colors.orange}},"Stop Live")))},t}(l.PureComponent),g=Object(p.withTheme)(m)},1574:function(e,t,n){"use strict";var r=n(1),a=n(0),o=n.n(a),i=n(1575),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=void 0===t?"":t,r=e.exploreEvents,a=e.exploreId,s=e.queryKeys;return o.a.createElement("div",{className:n},s.map(function(e,t){return o.a.createElement(i.a,{key:e,exploreEvents:r,exploreId:a,index:t})}))},t}(a.PureComponent);t.a=s},1575:function(e,t,n){"use strict";(function(e){var r=n(1),a=n(0),o=n.n(a),i=n(2),s=n.n(i),l=n(37),c=n(23),u=n(1576),p=n(1563),d=n(3),m=n(56),g=n(17),h=n(1577),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={textEditModeEnabled:!1},t.onRunQuery=function(){var e=t.props.exploreId;t.props.runQueries(e)},t.onChange=function(e,n){var r=t.props,a=r.datasourceInstance,o=r.exploreId,i=r.index;t.props.changeQuery(o,e,i,n),e&&!n&&a.getHighlighterExpression&&0===i&&t.updateLogsHighlights(e)},t.onClickAddButton=function(){var e=t.props,n=e.exploreId,r=e.index;t.props.addQueryRow(n,r)},t.onClickClearButton=function(){t.onChange(null,!0)},t.onClickHintFix=function(e){var n=t.props,r=n.datasourceInstance,a=n.exploreId,o=n.index;if(r&&r.modifyQuery){t.props.modifyQueries(a,e,o,function(e,t){return r.modifyQuery(e,t)})}},t.onClickRemoveButton=function(){var e=t.props,n=e.exploreId,r=e.index;t.props.removeQueryRowAction({exploreId:n,index:r}),t.props.runQueries(n)},t.onClickToggleEditorMode=function(){t.setState({textEditModeEnabled:!t.state.textEditModeEnabled})},t.updateLogsHighlights=s.a.debounce(function(e){var n=t.props.datasourceInstance;if(n.getHighlighterExpression){var r=t.props.exploreId,a=n.getHighlighterExpression(e);t.props.highlightLogsExpressionAction({exploreId:r,expressions:a})}},500),t}return r.c(t,e),t.prototype.componentWillUnmount=function(){console.log("QueryRow will unmount")},t.prototype.render=function(){var e,t=this.props,n=t.datasourceInstance,r=t.history,a=t.query,i=t.exploreEvents,l=t.range,c=t.absoluteRange,p=t.datasourceStatus,d=t.queryResponse,g=t.latency,f=t.queryErrors,v=t.mode,b=v===m.b.Metrics&&s.a.has(n,"components.QueryCtrl.prototype.toggleEditorMode");return e=v===m.b.Metrics&&n.components.ExploreMetricsQueryField?n.components.ExploreMetricsQueryField:v===m.b.Logs&&n.components.ExploreLogsQueryField?n.components.ExploreLogsQueryField:n.components.ExploreQueryField,o.a.createElement("div",{className:"query-row"},o.a.createElement("div",{className:"query-row-field flex-shrink-1"},e?o.a.createElement(e,{datasource:n,datasourceStatus:p,query:a,history:r,onRunQuery:this.onRunQuery,onHint:this.onClickHintFix,onChange:this.onChange,panelData:null,queryResponse:d,absoluteRange:c}):o.a.createElement(u.a,{error:f,datasource:n,onQueryChange:this.onChange,onExecuteQuery:this.onRunQuery,initialQuery:a,exploreEvents:i,range:l,textEditModeEnabled:this.state.textEditModeEnabled})),o.a.createElement("div",{className:"query-row-status"},o.a.createElement(h.a,{queryResponse:d,latency:g})),o.a.createElement("div",{className:"gf-form-inline flex-shrink-0"},b&&o.a.createElement("div",{className:"gf-form"},o.a.createElement("button",{className:"gf-form-label gf-form-label--btn",onClick:this.onClickToggleEditorMode},o.a.createElement("i",{className:"fa fa-pencil"}))),o.a.createElement("div",{className:"gf-form"},o.a.createElement("button",{className:"gf-form-label gf-form-label--btn",onClick:this.onClickClearButton},o.a.createElement("i",{className:"fa fa-times"}))),o.a.createElement("div",{className:"gf-form"},o.a.createElement("button",{className:"gf-form-label gf-form-label--btn",onClick:this.onClickAddButton},o.a.createElement("i",{className:"fa fa-plus"}))),o.a.createElement("div",{className:"gf-form"},o.a.createElement("button",{className:"gf-form-label gf-form-label--btn",onClick:this.onClickRemoveButton},o.a.createElement("i",{className:"fa fa-minus"})))))},t}(a.PureComponent);var v={addQueryRow:p.a,changeQuery:p.e,highlightLogsExpressionAction:g.i,modifyQueries:p.j,removeQueryRowAction:g.x,runQueries:p.m};t.a=Object(l.hot)(e)(Object(c.b)(function(e,t){var n=t.exploreId,r=t.index,a=e.explore[n],o=a.datasourceInstance,i=a.history,s=a.queries,l=a.range,c=a.absoluteRange,u=a.datasourceError,p=a.graphResult,m=a.loadingState,g=a.latency,h=a.queryErrors,f=a.mode,v=s[r],b=u?d.DataSourceStatus.Disconnected:d.DataSourceStatus.Connected,x=h.filter(function(e){return e.refId===v.refId})[0];return{datasourceInstance:o,history:i,query:v,range:l,absoluteRange:c,datasourceStatus:b,queryResponse:{series:p||[],state:m,error:x},latency:g,queryErrors:h,mode:f}},v)(f))}).call(this,n(74)(e))},1576:function(e,t,n){"use strict";var r=n(1),a=n(0),o=n.n(a),i=n(14),s=n(122),l=(n(66),n(5)),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.c(t,e),t.prototype.componentDidMount=function(){return r.b(this,void 0,void 0,function(){var e,t,n,a,o,s,l,c,u=this;return r.d(this,function(p){return this.element?(e=this.props,t=e.datasource,n=e.initialQuery,a=e.exploreEvents,o=e.range,this.initTimeSrv(o),s=Object(i.getAngularLoader)(),'<plugin-component type="query-ctrl"> </plugin-component>',l=r.a({datasource:t.name},n),c={ctrl:{datasource:t,target:l,refresh:function(){setTimeout(function(){u.props.onQueryChange(l),u.props.onExecuteQuery()},1)},onQueryChange:function(){setTimeout(function(){u.props.onQueryChange(l)},1)},events:a,panel:{datasource:t,targets:[l]},dashboard:{}}},this.component=s.load(this.element,c,'<plugin-component type="query-ctrl"> </plugin-component>'),this.angularScope=c.ctrl,setTimeout(function(){u.props.onQueryChange(l),u.props.onExecuteQuery()},1),[2]):[2]})})},t.prototype.componentDidUpdate=function(e){var t=e.textEditModeEnabled!==this.props.textEditModeEnabled,n=e.error!==this.props.error;this.component&&(t&&this.angularScope.toggleEditorMode(),(n||t)&&setTimeout(this.component.digest))},t.prototype.componentWillUnmount=function(){this.component&&this.component.destroy()},t.prototype.initTimeSrv=function(e){Object(s.a)().init({time:{from:Object(l.dateTime)(e.from),to:Object(l.dateTime)(e.to)},refresh:!1,getTimezone:function(){return"utc"},timeRangeUpdated:function(){return console.log("refreshDashboard!")}})},t.prototype.render=function(){var e=this;return o.a.createElement("div",{className:"gf-form-query",ref:function(t){return e.element=t},style:{width:"100%"}})},t}(a.PureComponent);t.a=c},1577:function(e,t,n){"use strict";var r=n(1),a=n(0),o=n.n(a),i=n(1569),s=n(5);var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.queryResponse,n=e.latency,r=t.state===s.LoadingState.Done||s.LoadingState.Error?"query-transaction":"query-transaction query-transaction--loading";return o.a.createElement("div",{className:r},o.a.createElement("div",{className:"query-transaction__duration"},t.state===s.LoadingState.Done||s.LoadingState.Error?(n/1e3).toFixed(1)+"s":o.a.createElement(i.a,null)))},t}(a.PureComponent),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.queryResponse,n=e.latency;return o.a.createElement("div",{className:"query-transactions"},t&&o.a.createElement(l,{queryResponse:t,latency:n}))},t}(a.PureComponent);t.a=c},1578:function(e,t,n){"use strict";(function(e){var r=n(1),a=n(0),o=n.n(a),i=n(37),s=n(23),l=n(1563),c=n(1579),u=n(1564),p=n(5),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClickTableButton=function(){t.props.toggleTable(t.props.exploreId,t.props.showingTable)},t}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.loading,n=e.onClickCell,r=e.showingTable,a=e.tableResult;return o.a.createElement(u.a,{label:"Table",loading:t,collapsible:!0,isOpen:r,onToggle:this.onClickTableButton},a&&o.a.createElement(c.a,{data:a,loading:t,onClickCell:n}))},t}(a.PureComponent);var m={toggleTable:l.s};t.a=Object(i.hot)(e)(Object(s.b)(function(e,t){var n=t.exploreId,r=e.explore[n],a=r.loadingState,o=r.showingTable,i=r.tableResult;return{loading:!(i&&i.rows.length>0||a!==p.LoadingState.Loading&&a!==p.LoadingState.Streaming),showingTable:o,tableResult:i}},m)(d))}).call(this,n(74)(e))},1579:function(e,t,n){"use strict";var r=n(1),a=n(2),o=n.n(a),i=n(0),s=n.n(i),l=n(1548),c=new(n(89).a),u=/^[Vv]alue #\d+/;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getCellProps=function(e,n,r){return{onClick:function(e){if(e.target&&"link"===e.target.className){var a=r.Header().props.title,o=n.row[a];t.props.onClickCell(a,o)}}}},t}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=e.loading,r=t||c,a=r.columns.map(function(e){return e.text}),i=r.columns.map(function(e){var t=e.filterable,n=e.text;return{Header:function(){return s.a.createElement("span",{title:n},n)},accessor:n,className:u.test(n)?"text-right":"",show:"Time"!==n,Cell:function(e){return s.a.createElement("span",{className:t?"link":"",title:n+": "+e.value},e.value)}}}),p=t?"The queries returned no data for a table.":"";return s.a.createElement(l.a,{columns:i,data:r.rows,getTdProps:this.getCellProps,loading:n,minRows:0,noDataText:p,resolveData:function(e){return function(e,t){return e.map(function(e){return o.a.zipObject(t,e)})}(e,a)},showPagination:Boolean(t)})},t}(i.PureComponent);t.a=p},1580:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return x});var r,a=n(1),o=n(0),i=n.n(o),s=n(23),l=n(37),c=n(56),u=n(5),p=n(490),d=n(1563),m=n(308),g=n(1568),h=n(1581);!function(e){e.left="left",e.right="right"}(r||(r={}));var f=function(e){var t={iconSide:r.left},n=a.a({},e,{defaultOptions:t}),o=n.title,s=n.onClick,l=n.buttonClassName,c=n.iconClassName,u=n.splitted,p=n.iconSide,d=n.disabled;return i.a.createElement("button",{className:"btn navbar-button "+(l||""),onClick:s,disabled:d||!1},c&&p===r.left?i.a.createElement("i",{className:""+c}):null,i.a.createElement("span",{className:"btn-title"},u?"":o),c&&p===r.right?i.a.createElement("i",{className:""+c}):null)},v=function(e){function t(t){var n=e.call(this,t)||this;return n.onChangeDatasource=function(e){return a.b(n,void 0,void 0,function(){return a.d(this,function(t){return this.props.changeDatasource(this.props.exploreId,e.value),[2]})})},n.onClearAll=function(){n.props.clearAll(n.props.exploreId)},n.onRunQuery=function(){return n.props.runQueries(n.props.exploreId)},n.onChangeRefreshInterval=function(e){var t=n.props;(0,t.changeRefreshInterval)(t.exploreId,e)},n.onModeChange=function(e){var t=n.props;(0,t.changeMode)(t.exploreId,e)},n}return a.c(t,e),t.prototype.render=function(){var e=this.props,t=e.datasourceMissing,n=e.exploreDatasources,a=e.closeSplit,o=e.exploreId,s=e.loading,l=e.range,u=e.timeZone,d=e.selectedDatasource,m=e.splitted,v=e.refreshInterval,b=e.onChangeTime,x=e.split,E=e.supportedModeOptions,w=e.selectedModeOption,y=e.hasLiveOption,C=e.isLive;return i.a.createElement("div",{className:m?"explore-toolbar splitted":"explore-toolbar"},i.a.createElement("div",{className:"explore-toolbar-item"},i.a.createElement("div",{className:"explore-toolbar-header"},i.a.createElement("div",{className:"explore-toolbar-header-title"},"left"===o&&i.a.createElement("span",{className:"navbar-page-btn"},i.a.createElement("i",{className:"gicon gicon-explore"}),"Explore")),m&&i.a.createElement("a",{className:"explore-toolbar-header-close",onClick:function(){return a(o)}},i.a.createElement("i",{className:"fa fa-times fa-fw"})))),i.a.createElement("div",{className:"explore-toolbar-item"},i.a.createElement("div",{className:"explore-toolbar-content"},t?null:i.a.createElement("div",{className:"explore-toolbar-content-item"},i.a.createElement("div",{className:"datasource-picker"},i.a.createElement(p.a,{onChange:this.onChangeDatasource,datasources:n,current:d})),E.length>1?i.a.createElement("div",{className:"query-type-toggle"},i.a.createElement(g.b,{label:"",transparent:!0},i.a.createElement(g.a,{key:c.b.Metrics,value:c.b.Metrics,onChange:this.onModeChange,selected:w.value===c.b.Metrics},"Metrics"),i.a.createElement(g.a,{key:c.b.Logs,value:c.b.Logs,onChange:this.onModeChange,selected:w.value===c.b.Logs},"Logs"))):null),"left"!==o||m?null:i.a.createElement("div",{className:"explore-toolbar-content-item"},f({splitted:m,title:"Split",onClick:x,iconClassName:"fa fa-fw fa-columns icon-margin-right",iconSide:r.left,disabled:C})),i.a.createElement("div",{className:"explore-toolbar-content-item"},i.a.createElement(h.a,{exploreId:o,hasLiveOption:y,isLive:C,loading:s,range:l,refreshInterval:v,timeZone:u,onChangeTime:b,onChangeRefreshInterval:this.onChangeRefreshInterval,onRunQuery:this.onRunQuery})),i.a.createElement("div",{className:"explore-toolbar-content-item"},i.a.createElement("button",{className:"btn navbar-button",onClick:this.onClearAll},"Clear All")),i.a.createElement("div",{className:"explore-toolbar-content-item"},f({splitted:m,title:"Run Query",onClick:this.onRunQuery,buttonClassName:"navbar-button--secondary",iconClassName:s&&!C?"fa fa-spinner fa-fw fa-spin run-icon":"fa fa-level-down fa-fw run-icon",iconSide:r.right})))))},t}(o.PureComponent),b={changeDatasource:d.b,changeRefreshInterval:d.f,clearAll:d.h,runQueries:d.m,closeSplit:d.p,split:d.q,changeMode:d.d},x=Object(l.hot)(e)(Object(s.b)(function(e,t){var n,r,o=t.exploreId,i=e.explore.split,s=e.explore[o],l=s.datasourceInstance,p=s.datasourceMissing,d=s.exploreDatasources,g=s.range,h=s.refreshInterval,f=s.loadingState,v=s.supportedModes,b=s.mode,x=s.isLive,E=l?d.find(function(e){return e.name===l.name}):void 0,w=f===u.LoadingState.Loading||f===u.LoadingState.Streaming,y=!!(l&&l.meta&&l.meta.streaming),C=[],S=null;try{for(var O=a.i(v),L=O.next();!L.done;L=O.next())switch(L.value){case c.b.Metrics:var N={value:c.b.Metrics,label:c.b.Metrics};C.push(N),b===c.b.Metrics&&(S=N);break;case c.b.Logs:var k={value:c.b.Logs,label:c.b.Logs};C.push(k),b===c.b.Logs&&(S=k)}}catch(e){n={error:e}}finally{try{L&&!L.done&&(r=O.return)&&r.call(O)}finally{if(n)throw n.error}}return{datasourceMissing:p,exploreDatasources:d,loading:w,range:g,timeZone:Object(m.a)(e.user),selectedDatasource:E,splitted:i,refreshInterval:h,supportedModeOptions:C,selectedModeOption:S,hasLiveOption:y,isLive:x}},b)(v))}).call(this,n(74)(e))},1581:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(1),a=n(0),o=n.n(a),i=n(5),s=n(3),l=n(348),c=n(290),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMoveTimePicker=function(e){var n=t.props,r=n.range,a=n.onChangeTime,o=n.timeZone,s=Object(c.a)(e,r),l=s.from,u=s.to;a({from:"utc"===o?Object(i.toUtc)(l):Object(i.dateTime)(l),to:"utc"===o?Object(i.toUtc)(u):Object(i.dateTime)(u)})},t.onMoveForward=function(){return t.onMoveTimePicker(1)},t.onMoveBack=function(){return t.onMoveTimePicker(-1)},t.onChangeTimePicker=function(e){t.props.onChangeTime(e.raw)},t.onZoom=function(){var e=t.props,n=e.range,r=e.onChangeTime,a=e.timeZone,o=Object(c.b)(n,2),s=o.from,l=o.to;r({from:"utc"===a?Object(i.toUtc)(s):Object(i.dateTime)(s),to:"utc"===a?Object(i.toUtc)(l):Object(i.dateTime)(l)})},t.setActiveTimeOption=function(e,t){return e.map(function(e){return e.to===t.to&&e.from===t.from?r.a({},e,{active:!0}):r.a({},e,{active:!1})})},t}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.hasLiveOption,n=e.isLive,r=e.loading,a=e.range,i=e.refreshInterval,c=e.timeZone,u=e.onRunQuery,p=e.onChangeRefreshInterval;return o.a.createElement(o.a.Fragment,null,!n&&o.a.createElement(s.TimePicker,{value:a,onChange:this.onChangeTimePicker,timeZone:c,onMoveBackward:this.onMoveBack,onMoveForward:this.onMoveForward,onZoom:this.onZoom,selectOptions:this.setActiveTimeOption(l.b,a.raw)}),o.a.createElement(s.RefreshPicker,{onIntervalChanged:p,onRefresh:u,value:i,tooltip:"Refresh",hasLiveOption:t}),i&&o.a.createElement(s.SetInterval,{func:u,interval:i,loading:r}))},t}(a.Component)},1582:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,a=n(1),o=n(0),i=n.n(o),s=n(8),l=n(3),c=function(){var e=Object(o.useContext)(l.ThemeContext),t=i.a.createElement(i.a.Fragment,null,i.a.createElement("i",{className:"fa fa-rocket"}),i.a.createElement(i.a.Fragment,null," ProTip: You can also define data sources through configuration files. "),i.a.createElement("a",{href:"http://docs.grafana.org/administration/provisioning/#datasources?utm_source=explore",target:"_blank",className:"text-link"},"Learn more")),n=i.a.createElement(l.LinkButton,{size:"lg",href:"/datasources/new",icon:"gicon gicon-datasources"},"Add data source"),c=Object(s.css)(r||(r=a.e(["\n    max-width: ",";\n  "],["\n    max-width: ",";\n  "])),e.breakpoints.lg);return i.a.createElement(l.CallToActionCard,{callToActionElement:n,className:c,footer:t,message:"Explore requires at least one data source. Once you have added a data source, you can query it here.",theme:e})}},1583:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),a=n.n(r),o=n(291),i=n(34),s=function(e){var t=e.queryErrors,n=Object(i.q)(t)?null:Object(i.j)(t),r=!!n,s=r?100:10,l=n?n.message:null;return a.a.createElement(o.a,{in:r,duration:s},a.a.createElement("div",{className:"alert-container"},a.a.createElement("div",{className:"alert-error alert"},a.a.createElement("div",{className:"alert-icon"},a.a.createElement("i",{className:"fa fa-exclamation-triangle"})),a.a.createElement("div",{className:"alert-body"},a.a.createElement("div",{className:"alert-title"},l)))))}},1584:function(e,t,n){"use strict";var r=n(1),a=n(0),o=n.n(a),i=n(5),s=n(3),l=n(92),c=n(1568),u=n(1567),p=n(16),d=n.n(p);function m(e){var t=e.active,n=e.count,r=e.proportion,a=e.value,i=Math.round(100*r)+"%",s={width:i},l=d()("logs-stats-row",{"logs-stats-row--active":t});return o.a.createElement("div",{className:l},o.a.createElement("div",{className:"logs-stats-row__label"},o.a.createElement("div",{className:"logs-stats-row__value",title:a},a),o.a.createElement("div",{className:"logs-stats-row__count"},n),o.a.createElement("div",{className:"logs-stats-row__percent"},i)),o.a.createElement("div",{className:"logs-stats-row__bar"},o.a.createElement("div",{className:"logs-stats-row__innerbar",style:s})))}var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.rowCount,a=e.stats,i=e.value,s=e.onClickClose,l=a.slice(0,5),c=l.find(function(e){return e.value===i}),u=a.slice(5),p=!c;p&&(c=u.find(function(e){return e.value===i}),u=u.filter(function(e){return e.value!==i}));var d=u.reduce(function(e,t){return e+t.count},0),g=l.reduce(function(e,t){return e+t.count},0)+d,h=d/g;return o.a.createElement("div",{className:"logs-stats"},o.a.createElement("div",{className:"logs-stats__header"},o.a.createElement("span",{className:"logs-stats__title"},t,": ",g," of ",n," rows have that label"),o.a.createElement("span",{className:"logs-stats__close fa fa-remove",onClick:s})),o.a.createElement("div",{className:"logs-stats__body"},l.map(function(e){return o.a.createElement(m,r.a({key:e.value},e,{active:e.value===i}))}),p&&c&&o.a.createElement(m,r.a({key:c.value},c,{active:!0})),d>0&&o.a.createElement(m,{key:"__OTHERS__",count:d,value:"Other",proportion:h})))},t}(a.PureComponent),h=n(505),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={stats:null,showStats:!1},t.onClickClose=function(){t.setState({showStats:!1})},t.onClickLabel=function(){var e=t.props,n=e.onClickLabel,r=e.label,a=e.value;n&&n(r,a)},t.onClickStats=function(){t.setState(function(e){if(e.showStats)return{showStats:!1,stats:null};var n=t.props.getRows();return{showStats:!0,stats:Object(h.c)(n,t.props.label)}})},t}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.getRows,n=e.label,r=e.plain,a=e.value,i=this.state,s=i.showStats,l=i.stats,c=n+": "+a;return o.a.createElement("span",{className:"logs-label"},o.a.createElement("span",{className:"logs-label__value",title:c},a),!r&&o.a.createElement("span",{title:"Filter for label",onClick:this.onClickLabel,className:"logs-label__icon fa fa-search-plus"}),!r&&t&&o.a.createElement("span",{onClick:this.onClickStats,className:"logs-label__icon fa fa-signal"}),s&&o.a.createElement("span",{className:"logs-label__stats"},o.a.createElement(g,{stats:l,rowCount:t().length,label:n,value:a,onClickClose:this.onClickClose})))},t}(a.PureComponent),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.c(t,e),t.prototype.render=function(){var e=this.props,t=e.getRows,n=e.labels,r=e.onClickLabel,a=e.plain;return o.a.createElement("span",{className:"logs-labels"},Object.keys(n).map(function(e){return o.a.createElement(f,{key:e,getRows:t,label:e,value:n[e],plain:a,onClickLabel:r})}))},t}(a.PureComponent),b=n(2),x=n.n(b),E=n(363),w=n.n(E),y=n(132),C=n(785);var S,O,L,N,k,I,j,R,T,M,_,D,q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={chunks:[],prevValue:""},t}return r.c(t,e),t.getDerivedStateFromProps=function(e,t){return e.value===t.prevValue?null:{chunks:C.a.parse(e.value).spans.map(function(e){return e.css?{style:(t=e.css,t.split(/;\s*/).reduce(function(e,t){var n=t.match(/([^:\s]+)\s*:\s*(.+)/);return n&&n[1]&&n[2]&&(e[n[1].replace(/-(a-z)/g,function(e,t){return t.toUpperCase()})]=n[2]),e},{})),text:e.text}:{text:e.text};var t}),prevValue:e.value}},t.prototype.render=function(){return this.state.chunks.map(function(e,t){return e.style?o.a.createElement("span",{key:t,style:e.style},e.text):e.text})},t}(a.PureComponent),Q=n(8),P=n(295),A=n.n(P),F=n(1546),z=n.n(F),H=function(e,t,n){return r.b(void 0,void 0,void 0,function(){var a,o;return r.d(this,function(r){switch(r.label){case 0:return a=[e(t,{limit:n}),e(t,{limit:n+1,direction:"FORWARD"})],[4,Promise.all(a.map(function(e){return e.catch(function(e){return e})}))];case 1:return[2,{data:(o=r.sent()).map(function(e,n){var r=e;return r.data?r.data.map(function(e){return e.rows.filter(function(e){return e[0]!==t.timestamp}).map(function(e){return e[1]})}):[]}),errors:o.map(function(e){var t=e;return t.message?t.message:null})}]}})})},U=function(e){var t=e.getRowContext,n=e.row,o=e.children,i=r.f(Object(a.useState)(10),2),s=i[0],l=i[1],c=r.f(Object(a.useState)(null),2),u=c[0],p=c[1],d=r.f(Object(a.useState)({before:!0,after:!0}),2),m=d[0],g=d[1],h=z()(function(){return r.b(void 0,void 0,void 0,function(){return r.d(this,function(e){switch(e.label){case 0:return[4,H(t,n,s)];case 1:return[2,e.sent()]}})})},[s]).value;return Object(a.useEffect)(function(){h&&p(function(e){var t=!0,n=!0;return e&&e.data[0].length===h.data[0].length&&(t=!1),e&&e.data[1].length===h.data[1].length&&(n=!1),g({before:t,after:n}),h})},[h]),o({result:{before:u?A()(u.data[0]):[],after:u?A()(u.data[1]):[]},errors:{before:u?u.errors[0]:null,after:u?u.errors[1]:null},hasMoreContextRows:m,updateLimit:function(){return l(s+10)}})},Z=n(1566),W=function(e){var t=Object(s.selectThemeVariant)({light:e.colors.white,dark:e.colors.dark1},e.type),n=Object(s.selectThemeVariant)({light:e.colors.gray7,dark:e.colors.dark2},e.type),a=Object(s.selectThemeVariant)({light:e.colors.gray5,dark:e.colors.black},e.type),o=Object(s.selectThemeVariant)({light:e.colors.gray5,dark:e.colors.dark9},e.type);return{commonStyles:Object(Q.css)(S||(S=r.e(["\n      position: absolute;\n      width: calc(100% + 20px);\n      left: -10px;\n      height: 250px;\n      z-index: 2;\n      overflow: hidden;\n      background: ",";\n      background: linear-gradient(180deg, "," 0%, "," 104.25%);\n      box-shadow: 0px 2px 4px ",", 0px 0px 2px ",";\n      border: 1px solid ",";\n      border-radius: ",";\n    "],["\n      position: absolute;\n      width: calc(100% + 20px);\n      left: -10px;\n      height: 250px;\n      z-index: 2;\n      overflow: hidden;\n      background: ",";\n      background: linear-gradient(180deg, "," 0%, "," 104.25%);\n      box-shadow: 0px 2px 4px ",", 0px 0px 2px ",";\n      border: 1px solid ",";\n      border-radius: ",";\n    "])),e.colors.pageBg,t,n,a,a,o,e.border.radius.md),header:Object(Q.css)(O||(O=r.e(["\n      height: 30px;\n      padding: 0 10px;\n      display: flex;\n      align-items: center;\n      background: ",";\n    "],["\n      height: 30px;\n      padding: 0 10px;\n      display: flex;\n      align-items: center;\n      background: ",";\n    "])),o),logs:Object(Q.css)(L||(L=r.e(["\n      height: 220px;\n      padding: 10px;\n    "],["\n      height: 220px;\n      padding: 10px;\n    "])))}},B=function(e){e.row;var t=e.rows,n=e.onLoadMoreContext,i=e.canLoadMoreRows,l=Object(a.useContext)(s.ThemeContext),c=W(l).header;return o.a.createElement("div",{className:c},o.a.createElement("span",{className:Object(Q.css)(N||(N=r.e(["\n          opacity: 0.6;\n        "],["\n          opacity: 0.6;\n        "])))},"Found ",t.length," rows."),(t.length>=10||t.length>10&&t.length%10!=0)&&i&&o.a.createElement("span",{className:Object(Q.css)(k||(k=r.e(["\n            margin-left: 10px;\n            &:hover {\n              text-decoration: underline;\n              cursor: pointer;\n            }\n          "],["\n            margin-left: 10px;\n            &:hover {\n              text-decoration: underline;\n              cursor: pointer;\n            }\n          "]))),onClick:function(){return n()}},"Load 10 more"))},G=function(e){var t=e.row,n=e.rows,i=e.error,l=e.className,c=e.shouldScrollToBottom,u=e.canLoadMoreRows,p=e.onLoadMoreContext,d=Object(a.useContext)(s.ThemeContext),m=W(d),g=m.commonStyles,h=m.logs,f=r.f(Object(a.useState)(0),2),v=f[0],b=f[1],x=Object(a.useRef)();Object(a.useLayoutEffect)(function(){c&&x.current&&b(x.current.offsetHeight)});var E={row:t,rows:n,onLoadMoreContext:p,canLoadMoreRows:u};return o.a.createElement("div",{className:Object(Q.cx)(l,g)},c&&!i&&o.a.createElement(B,r.a({},E)),o.a.createElement("div",{className:h},o.a.createElement(s.CustomScrollbar,{autoHide:!0,scrollTop:v},o.a.createElement("div",{ref:x},!i&&o.a.createElement(s.List,{items:n,renderItem:function(e){return o.a.createElement("div",{className:Object(Q.css)(I||(I=r.e(["\n                        padding: 5px 0;\n                      "],["\n                        padding: 5px 0;\n                      "])))},e)}}),i&&o.a.createElement(Z.a,{message:i})))),!c&&!i&&o.a.createElement(B,r.a({},E)))},V=function(e){var t=e.row,n=e.context,a=e.errors,i=e.onOutsideClick,l=e.onLoadMoreContext,c=e.hasMoreContextRows;return o.a.createElement(s.ClickOutsideWrapper,{onClick:i},o.a.createElement("div",null,n.after&&o.a.createElement(G,{rows:n.after,error:a&&a.after,row:t,className:Object(Q.css)(j||(j=r.e(["\n              top: -250px;\n            "],["\n              top: -250px;\n            "]))),shouldScrollToBottom:!0,canLoadMoreRows:c.after,onLoadMoreContext:l}),n.before&&o.a.createElement(G,{onLoadMoreContext:l,canLoadMoreRows:c.before,row:t,rows:n.before,error:a&&a.before,className:Object(Q.css)(R||(R=r.e(["\n              top: 100%;\n            "],["\n              top: 100%;\n            "])))})))},K=n(48),J=n.n(K),$=Object(Q.css)(T||(T=r.e(["\n  position: relative;\n  /* z-index: 0; */\n  /* outline: none; */\n"],["\n  position: relative;\n  /* z-index: 0; */\n  /* outline: none; */\n"]))),Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={fieldCount:0,fieldLabel:null,fieldStats:null,fieldValue:null,parsed:!1,parser:void 0,parsedFieldHighlights:[],showFieldStats:!1,showContext:!1},t.onClickClose=function(){t.setState({showFieldStats:!1})},t.onClickHighlight=function(e){var n=t.props.getRows,r=t.state.parser,a=n(),o=r.getLabelFromField(e),i=r.getValueFromField(e),s=r.buildMatcher(o),l=Object(h.b)(a,s),c=l.reduce(function(e,t){return e+t.count},0);t.setState({fieldCount:c,fieldLabel:o,fieldStats:l,fieldValue:i,showFieldStats:!0})},t.onMouseOverMessage=function(){t.state.showContext||t.isTextSelected()||(t.mouseMessageTimer=setTimeout(t.parseMessage,500))},t.onMouseOutMessage=function(){t.state.showContext||(clearTimeout(t.mouseMessageTimer),t.setState({parsed:!1}))},t.parseMessage=function(){if(!t.state.parsed){var e=t.props.row,n=Object(h.g)(e.entry);if(n){var r=n.getFields(t.props.row.entry);t.setState({parsedFieldHighlights:r,parsed:!0,parser:n})}}},t.toggleContext=function(){t.setState(function(e){return{showContext:!e.showContext}})},t.onContextToggle=function(e){e.stopPropagation(),t.toggleContext()},t}return r.c(t,e),t.prototype.componentWillUnmount=function(){clearTimeout(this.mouseMessageTimer)},t.prototype.isTextSelected=function(){if(!window.getSelection)return!1;var e=window.getSelection();return!!e&&(null!==e.anchorNode&&!1===e.isCollapsed)},t.prototype.renderLogRow=function(e,t,n,a){var i=this,l=this.props,c=l.getRows,u=l.highlighterExpressions,p=l.onClickLabel,m=l.row,h=l.showDuplicates,f=l.showLabels,b=l.timeZone,E=l.showTime,C=this.state,S=C.fieldCount,O=C.fieldLabel,L=C.fieldStats,N=C.fieldValue,k=C.parsed,I=C.parsedFieldHighlights,j=C.showFieldStats,R=C.showContext,T=m.entry,P=m.hasAnsi,A=m.raw,F=u&&!x.a.isEqual(u,m.searchWords),z=F?u:m.searchWords,H=z&&z.length>0&&z[0]&&z[0].length>0,U=d()("logs-row__match-highlight",{"logs-row__match-highlight--preview":F}),Z="utc"===b;return o.a.createElement(s.ThemeContext.Consumer,null,function(l){var u,d=i.state.showContext?Object(Q.cx)($,function(e,t){var n=Object(s.selectThemeVariant)({light:e.colors.white,dark:e.colors.black},e.type);return{row:Object(Q.css)(M||(M=r.e(["\n      z-index: 1;\n      outline: 9999px solid\n        ",";\n    "],["\n      z-index: 1;\n      outline: 9999px solid\n        ",";\n    "])),J()(n).setAlpha(.7).toRgbString())}}(l,i.state).row):$;return o.a.createElement("div",{className:"logs-row "+i.props.className},h&&o.a.createElement("div",{className:"logs-row__duplicates"},m.duplicates>0?m.duplicates+1+"x":null),o.a.createElement("div",{className:m.logLevel?"logs-row__level logs-row__level--"+m.logLevel:""}),E&&Z&&o.a.createElement("div",{className:"logs-row__localtime",title:"Local: "+m.timeLocal+" ("+m.timeFromNow+")"},m.timeUtc),E&&!Z&&o.a.createElement("div",{className:"logs-row__localtime",title:m.timeUtc+" ("+m.timeFromNow+")"},m.timeLocal),f&&o.a.createElement("div",{className:"logs-row__labels"},o.a.createElement(v,{getRows:c,labels:m.uniqueLabels,onClickLabel:p})),o.a.createElement("div",{className:"logs-row__message",onMouseEnter:i.onMouseOverMessage,onMouseLeave:i.onMouseOutMessage},o.a.createElement("div",{className:Object(Q.css)(_||(_=r.e(["\n                    position: relative;\n                  "],["\n                    position: relative;\n                  "])))},R&&e&&o.a.createElement(V,{row:m,context:e,errors:t,hasMoreContextRows:n,onOutsideClick:i.toggleContext,onLoadMoreContext:function(){a&&a()}}),o.a.createElement("span",{className:d},k&&o.a.createElement(w.a,{style:{whiteSpace:"pre-wrap"},autoEscape:!0,highlightTag:(u=i.onClickHighlight,function(e){return o.a.createElement("span",{className:e.className,style:e.style},e.children,o.a.createElement("span",{className:"logs-row__field-highlight--icon fa fa-signal",onClick:function(){return u(e.children)}}))}),textToHighlight:T,searchWords:I,highlightClassName:"logs-row__field-highlight"}),!k&&H&&o.a.createElement(w.a,{style:{whiteSpace:"pre-wrap"},textToHighlight:T,searchWords:z,findChunks:y.b,highlightClassName:U}),P&&!k&&!H&&o.a.createElement(q,{value:A}),!P&&!k&&!H&&T,j&&o.a.createElement("div",{className:"logs-row__stats"},o.a.createElement(g,{stats:L,label:O,value:N,onClickClose:i.onClickClose,rowCount:S}))),m.searchWords&&m.searchWords.length>0&&o.a.createElement("span",{onClick:i.onContextToggle,className:Object(Q.css)(D||(D=r.e(["\n                        visibility: hidden;\n                        white-space: nowrap;\n                        position: relative;\n                        z-index: ",";\n                        cursor: pointer;\n                        .logs-row:hover & {\n                          visibility: visible;\n                          margin-left: 10px;\n                          text-decoration: underline;\n                        }\n                      "],["\n                        visibility: hidden;\n                        white-space: nowrap;\n                        position: relative;\n                        z-index: ",";\n                        cursor: pointer;\n                        .logs-row:hover & {\n                          visibility: visible;\n                          margin-left: 10px;\n                          text-decoration: underline;\n                        }\n                      "])),R?1:0)},R?"Hide":"Show"," context"))))})},t.prototype.render=function(){var e=this;return this.state.showContext?o.a.createElement(o.a.Fragment,null,o.a.createElement(U,{row:this.props.row,getRowContext:this.props.getRowContext},function(t){var n=t.result,r=t.errors,a=t.hasMoreContextRows,i=t.updateLimit;return o.a.createElement(o.a.Fragment,null,e.renderLogRow(n,r,a,i))})):this.renderLogRow()},t}(a.PureComponent),X={series:{stack:!0,bars:{show:!0,lineWidth:5}},yaxis:{tickDecimals:0}};var ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={deferLogs:!0,renderAll:!1,showLabels:!1,showTime:!0},t.onChangeDedup=function(e){var n=t.props.onDedupStrategyChange;return t.props.dedupStrategy===e?n(i.LogsDedupStrategy.none):n(e)},t.onChangeLabels=function(e){var n=e.target;t.setState({showLabels:n.checked})},t.onChangeTime=function(e){var n=e.target;t.setState({showTime:n.checked})},t.onToggleLogLevel=function(e,n){var r=n.map(function(e){return i.LogLevel[e]});t.props.onToggleLogLevel(r)},t.onClickScan=function(e){e.preventDefault(),t.props.onStartScanning()},t.onClickStopScan=function(e){e.preventDefault(),t.props.onStopScanning()},t}return r.c(t,e),t.prototype.componentDidMount=function(){var e=this;if(this.state.deferLogs){var t=this.props.data,n=t&&t.rows?t.rows.length:0,r=n<=200;this.deferLogsTimer=setTimeout(function(){return e.setState({deferLogs:!1,renderAll:r})},n)}},t.prototype.componentDidUpdate=function(e,t){var n=this;!t.deferLogs||this.state.deferLogs||this.state.renderAll||(this.renderAllTimer=setTimeout(function(){return n.setState({renderAll:!0})},2e3))},t.prototype.componentWillUnmount=function(){clearTimeout(this.deferLogsTimer),clearTimeout(this.renderAllTimer)},t.prototype.render=function(){var e=this,t=this.props,n=t.data,a=t.exploreId,p=t.highlighterExpressions,d=t.loading,m=void 0!==d&&d,g=t.onClickLabel,f=t.absoluteRange,b=t.timeZone,x=t.scanning,E=t.scanRange,w=t.width,y=t.dedupedData;if(!n)return null;var C=this.state,S=C.deferLogs,O=C.renderAll,L=C.showLabels,N=C.showTime,k=this.props.dedupStrategy,I=n&&n.rows&&n.rows.length>0,j=I&&y.hasUniqueLabels,R=y.rows.reduce(function(e,t){return e+t.duplicates},0),T=k!==i.LogsDedupStrategy.none&&R>0,M=n.meta?r.h(n.meta):[];k!==i.LogsDedupStrategy.none&&M.push({label:"Dedup count",value:R,kind:i.LogsMetaKind.Number});var _=y.rows,D=_.slice(0,100),q=_.slice(100),Q=E?"Scanning "+i.rangeUtil.describeTimeRange(E):"Scanning...",P=function(){return _},A=n.series?n.series.map(function(e){return new l.a(e)}):[new l.a({datapoints:[]})];return o.a.createElement("div",{className:"logs-panel"},o.a.createElement("div",{className:"logs-panel-graph"},o.a.createElement(u.a,{data:A,height:100,width:w,range:f,timeZone:b,id:"explore-logs-graph-"+a,onChangeTime:this.props.onChangeTime,onToggleSeries:this.onToggleLogLevel,userOptions:X})),o.a.createElement("div",{className:"logs-panel-options"},o.a.createElement("div",{className:"logs-panel-controls"},o.a.createElement(s.Switch,{label:"Time",checked:N,onChange:this.onChangeTime,transparent:!0}),o.a.createElement(s.Switch,{label:"Labels",checked:L,onChange:this.onChangeLabels,transparent:!0}),o.a.createElement(c.b,{label:"Dedup",transparent:!0},Object.keys(i.LogsDedupStrategy).map(function(t,n){return o.a.createElement(c.a,{key:n,value:t,onChange:e.onChangeDedup,selected:k===t,tooltip:h.a[t]},t)})))),I&&M&&o.a.createElement("div",{className:"logs-panel-meta"},M.map(function(e){return o.a.createElement("div",{className:"logs-panel-meta__item",key:e.label},o.a.createElement("span",{className:"logs-panel-meta__label"},e.label,":"),o.a.createElement("span",{className:"logs-panel-meta__value"},(t=e.value,e.kind===i.LogsMetaKind.LabelsMap?o.a.createElement("span",{className:"logs-meta-item__labels"},o.a.createElement(v,{labels:t,plain:!0})):t)));var t})),o.a.createElement("div",{className:"logs-rows"},I&&!S&&D.map(function(t,n){return o.a.createElement(Y,{key:n,getRows:P,getRowContext:e.props.getRowContext,highlighterExpressions:p,row:t,showDuplicates:T,showLabels:L&&j,showTime:N,timeZone:b,onClickLabel:g})}),I&&!S&&O&&q.map(function(t,n){return o.a.createElement(Y,{key:100+n,getRows:P,getRowContext:e.props.getRowContext,row:t,showDuplicates:T,showLabels:L&&j,showTime:N,timeZone:b,onClickLabel:g})}),I&&S&&o.a.createElement("span",null,"Rendering ",y.rows.length," rows...")),!m&&!I&&!x&&o.a.createElement("div",{className:"logs-panel-nodata"},"No logs found.",o.a.createElement("a",{className:"link",onClick:this.onClickScan},"Scan for older logs")),x&&o.a.createElement("div",{className:"logs-panel-nodata"},o.a.createElement("span",null,Q),o.a.createElement("a",{className:"link",onClick:this.onClickStopScan},"Stop scan")))},t}(a.PureComponent);t.a=ee},1585:function(e,t,n){"use strict";var r=n(2),a=n(1547),o=Object(a.a)(r.memoize,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(function(e,t){return e+"-"+JSON.stringify(t)},"")}),i=n(505);n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var s=function(e){return{showingGraph:e.showingGraph,showingTable:e.showingTable,showingStartPage:e.showingStartPage,dedupStrategy:e.dedupStrategy}},l=o(function(e){return e.logsResult},function(e){return e.hiddenLogLevels},function(e){return e.dedupStrategy},function(e,t,n){if(!e)return null;var r=Object(i.f)(e,new Set(t));return Object(i.e)(r,n)})},1586:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Wrapper",function(){return m});var r=n(1),a=n(0),o=n.n(a),i=n(37),s=n(23),l=n(56),c=n(1565),u=n(1570),p=n(3),d=n(17),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.c(t,e),t.prototype.componentWillUnmount=function(){this.props.resetExploreAction()},t.prototype.render=function(){var e=this.props.split;return o.a.createElement("div",{className:"page-scrollbar-wrapper"},o.a.createElement(p.CustomScrollbar,{autoHeightMin:"100%",className:"custom-scrollbar--page"},o.a.createElement("div",{className:"explore-wrapper"},o.a.createElement(c.a,null,o.a.createElement(u.a,{exploreId:l.a.left})),e&&o.a.createElement(c.a,null,o.a.createElement(u.a,{exploreId:l.a.right})))))},t}(a.Component),g={resetExploreAction:d.y};t.default=Object(i.hot)(e)(Object(s.b)(function(e){return{split:e.explore.split}},g)(m))}.call(this,n(74)(e))}}]);
//# sourceMappingURL=explore.169b0a5192f4fb865790.js.map