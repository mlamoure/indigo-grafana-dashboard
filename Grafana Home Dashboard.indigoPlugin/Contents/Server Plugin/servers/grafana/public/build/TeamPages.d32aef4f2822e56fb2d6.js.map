{"version":3,"file":"TeamPages.d32aef4f2822e56fb2d6.js","mappings":"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","sources":["webpack://grafana/./public/app/core/components/SharedPreferences/SharedPreferences.tsx","webpack://grafana/./public/app/features/teams/TeamGroupSync.tsx","webpack://grafana/./public/app/core/components/WithFeatureToggle.tsx","webpack://grafana/./public/app/features/teams/TeamMemberRow.tsx","webpack://grafana/./public/app/features/teams/TeamMembers.tsx","webpack://grafana/./public/app/features/teams/TeamPermissions.tsx","webpack://grafana/./public/app/features/teams/TeamSettings.tsx","webpack://grafana/./public/app/features/teams/TeamPages.tsx","webpack://grafana/./public/app/features/teams/state/actions.ts","webpack://grafana/./public/app/features/teams/state/navModel.ts","webpack://grafana/./public/app/features/teams/state/selectors.ts"],"sourcesContent":["import { css } from '@emotion/css';\nimport { t, Trans } from '@lingui/macro';\nimport React, { PureComponent } from 'react';\n\nimport { SelectableValue } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport {\n  Button,\n  Field,\n  FieldSet,\n  Form,\n  Icon,\n  Label,\n  RadioButtonGroup,\n  Select,\n  stylesFactory,\n  TimeZonePicker,\n  Tooltip,\n  WeekStartPicker,\n} from '@grafana/ui';\nimport { PreferencesService } from 'app/core/services/PreferencesService';\nimport { backendSrv } from 'app/core/services/backend_srv';\nimport { DashboardSearchHit, DashboardSearchItemType } from 'app/features/search/types';\n\nexport interface Props {\n  resourceUri: string;\n  disabled?: boolean;\n}\n\nexport interface State {\n  homeDashboardId: number;\n  theme: string;\n  timezone: string;\n  weekStart: string;\n  dashboards: DashboardSearchHit[];\n}\n\nconst themes: SelectableValue[] = [\n  { value: '', label: t({ id: 'shared-preferences.theme.default-label', message: 'Default' }) },\n  { value: 'dark', label: t({ id: 'shared-preferences.theme.dark-label', message: 'Dark' }) },\n  { value: 'light', label: t({ id: 'shared-preferences.theme.light-label', message: 'Light' }) },\n];\n\nexport class SharedPreferences extends PureComponent<Props, State> {\n  service: PreferencesService;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.service = new PreferencesService(props.resourceUri);\n    this.state = {\n      homeDashboardId: 0,\n      theme: '',\n      timezone: '',\n      weekStart: '',\n      dashboards: [],\n    };\n  }\n\n  async componentDidMount() {\n    const prefs = await this.service.load();\n    const dashboards = await backendSrv.search({ starred: true });\n    const defaultDashboardHit: DashboardSearchHit = {\n      id: 0,\n      title: 'Default',\n      tags: [],\n      type: '' as DashboardSearchItemType,\n      uid: '',\n      uri: '',\n      url: '',\n      folderId: 0,\n      folderTitle: '',\n      folderUid: '',\n      folderUrl: '',\n      isStarred: false,\n      slug: '',\n      items: [],\n    };\n\n    if (prefs.homeDashboardId > 0 && !dashboards.find((d) => d.id === prefs.homeDashboardId)) {\n      const missing = await backendSrv.search({ dashboardIds: [prefs.homeDashboardId] });\n      if (missing && missing.length > 0) {\n        dashboards.push(missing[0]);\n      }\n    }\n\n    this.setState({\n      homeDashboardId: prefs.homeDashboardId,\n      theme: prefs.theme,\n      timezone: prefs.timezone,\n      weekStart: prefs.weekStart,\n      dashboards: [defaultDashboardHit, ...dashboards],\n    });\n  }\n\n  onSubmitForm = async () => {\n    const { homeDashboardId, theme, timezone, weekStart } = this.state;\n    await this.service.update({ homeDashboardId, theme, timezone, weekStart });\n    window.location.reload();\n  };\n\n  onThemeChanged = (value: string) => {\n    this.setState({ theme: value });\n  };\n\n  onTimeZoneChanged = (timezone?: string) => {\n    if (!timezone) {\n      return;\n    }\n    this.setState({ timezone: timezone });\n  };\n\n  onWeekStartChanged = (weekStart: string) => {\n    this.setState({ weekStart: weekStart });\n  };\n\n  onHomeDashboardChanged = (dashboardId: number) => {\n    this.setState({ homeDashboardId: dashboardId });\n  };\n\n  getFullDashName = (dashboard: SelectableValue<DashboardSearchHit>) => {\n    if (typeof dashboard.folderTitle === 'undefined' || dashboard.folderTitle === '') {\n      return dashboard.title;\n    }\n    return dashboard.folderTitle + ' / ' + dashboard.title;\n  };\n\n  render() {\n    const { theme, timezone, weekStart, homeDashboardId, dashboards } = this.state;\n    const { disabled } = this.props;\n    const styles = getStyles();\n\n    const homeDashboardTooltip = (\n      <Tooltip\n        content={\n          <Trans id=\"shared-preferences.fields.home-dashboard-tooltip\">\n            Not finding the dashboard you want? Star it first, then it should appear in this select box.\n          </Trans>\n        }\n      >\n        <Icon name=\"info-circle\" />\n      </Tooltip>\n    );\n\n    return (\n      <Form onSubmit={this.onSubmitForm}>\n        {() => {\n          return (\n            <FieldSet label={<Trans id=\"shared-preferences.title\">Preferences</Trans>} disabled={disabled}>\n              <Field label={t({ id: 'shared-preferences.fields.theme-label', message: 'UI Theme' })}>\n                <RadioButtonGroup\n                  options={themes}\n                  value={themes.find((item) => item.value === theme)?.value}\n                  onChange={this.onThemeChanged}\n                />\n              </Field>\n\n              <Field\n                label={\n                  <Label htmlFor=\"home-dashboard-select\">\n                    <span className={styles.labelText}>\n                      <Trans id=\"shared-preferences.fields.home-dashboard-label\">Home Dashboard</Trans>\n                    </span>\n\n                    {homeDashboardTooltip}\n                  </Label>\n                }\n                data-testid=\"User preferences home dashboard drop down\"\n              >\n                <Select\n                  menuShouldPortal\n                  value={dashboards.find((dashboard) => dashboard.id === homeDashboardId)}\n                  getOptionValue={(i) => i.id}\n                  getOptionLabel={this.getFullDashName}\n                  onChange={(dashboard: SelectableValue<DashboardSearchHit>) =>\n                    this.onHomeDashboardChanged(dashboard.id)\n                  }\n                  options={dashboards}\n                  placeholder={t({\n                    id: 'shared-preferences.fields.home-dashboard-placeholder',\n                    message: 'Choose default dashboard',\n                  })}\n                  inputId=\"home-dashboard-select\"\n                />\n              </Field>\n\n              <Field\n                label={t({ id: 'shared-dashboard.fields.timezone-label', message: 'Timezone' })}\n                data-testid={selectors.components.TimeZonePicker.containerV2}\n              >\n                <TimeZonePicker\n                  includeInternal={true}\n                  value={timezone}\n                  onChange={this.onTimeZoneChanged}\n                  inputId=\"shared-preferences-timezone-picker\"\n                />\n              </Field>\n\n              <Field\n                label={t({ id: 'shared-preferences.fields.week-start-label', message: 'Week start' })}\n                data-testid={selectors.components.WeekStartPicker.containerV2}\n              >\n                <WeekStartPicker\n                  value={weekStart}\n                  onChange={this.onWeekStartChanged}\n                  inputId={'shared-preferences-week-start-picker'}\n                />\n              </Field>\n\n              <div className=\"gf-form-button-row\">\n                <Button variant=\"primary\" data-testid={selectors.components.UserProfile.preferencesSaveButton}>\n                  <Trans id=\"common.save\">Save</Trans>\n                </Button>\n              </div>\n            </FieldSet>\n          );\n        }}\n      </Form>\n    );\n  }\n}\n\nexport default SharedPreferences;\n\nconst getStyles = stylesFactory(() => {\n  return {\n    labelText: css`\n      margin-right: 6px;\n    `,\n  };\n});\n","import React, { PureComponent } from 'react';\nimport { connect, ConnectedProps } from 'react-redux';\n\nimport { LegacyForms, Tooltip, Icon, Button, useTheme2 } from '@grafana/ui';\nimport { SlideDown } from 'app/core/components/Animations/SlideDown';\nimport { CloseButton } from 'app/core/components/CloseButton/CloseButton';\nimport EmptyListCTA from 'app/core/components/EmptyListCTA/EmptyListCTA';\nimport { UpgradeBox, UpgradeContent, UpgradeContentProps } from 'app/core/components/Upgrade/UpgradeBox';\nimport { highlightTrial } from 'app/features/admin/utils';\n\nimport { StoreState, TeamGroup } from '../../types';\n\nimport { addTeamGroup, loadTeamGroups, removeTeamGroup } from './state/actions';\nimport { getTeamGroups } from './state/selectors';\n\nconst { Input } = LegacyForms;\n\nfunction mapStateToProps(state: StoreState) {\n  return {\n    groups: getTeamGroups(state.team),\n  };\n}\n\nconst mapDispatchToProps = {\n  loadTeamGroups,\n  addTeamGroup,\n  removeTeamGroup,\n};\n\ninterface OwnProps {\n  isReadOnly: boolean;\n}\n\ninterface State {\n  isAdding: boolean;\n  newGroupId: string;\n}\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\nexport type Props = OwnProps & ConnectedProps<typeof connector>;\n\nconst headerTooltip = `Sync LDAP or OAuth groups with your Grafana teams.`;\n\nexport class TeamGroupSync extends PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { isAdding: false, newGroupId: '' };\n  }\n\n  componentDidMount() {\n    this.fetchTeamGroups();\n  }\n\n  async fetchTeamGroups() {\n    await this.props.loadTeamGroups();\n  }\n\n  onToggleAdding = () => {\n    this.setState({ isAdding: !this.state.isAdding });\n  };\n\n  onNewGroupIdChanged = (event: any) => {\n    this.setState({ newGroupId: event.target.value });\n  };\n\n  onAddGroup = (event: any) => {\n    event.preventDefault();\n    this.props.addTeamGroup(this.state.newGroupId);\n    this.setState({ isAdding: false, newGroupId: '' });\n  };\n\n  onRemoveGroup = (group: TeamGroup) => {\n    this.props.removeTeamGroup(group.groupId);\n  };\n\n  isNewGroupValid() {\n    return this.state.newGroupId.length > 1;\n  }\n\n  renderGroup(group: TeamGroup) {\n    const { isReadOnly } = this.props;\n    return (\n      <tr key={group.groupId}>\n        <td>{group.groupId}</td>\n        <td style={{ width: '1%' }}>\n          <Button size=\"sm\" variant=\"destructive\" onClick={() => this.onRemoveGroup(group)} disabled={isReadOnly}>\n            <Icon name=\"times\" />\n          </Button>\n        </td>\n      </tr>\n    );\n  }\n\n  render() {\n    const { isAdding, newGroupId } = this.state;\n    const { groups, isReadOnly } = this.props;\n    return (\n      <div>\n        {highlightTrial() && (\n          <UpgradeBox\n            featureId={'team-sync'}\n            eventVariant={'trial'}\n            featureName={'team sync'}\n            text={'Add a group to enable team sync for free during your trial of Grafana Pro.'}\n          />\n        )}\n        <div className=\"page-action-bar\">\n          {(!highlightTrial() || groups.length > 0) && (\n            <>\n              <h3 className=\"page-sub-heading\">External group sync</h3>\n              <Tooltip placement=\"auto\" content={headerTooltip}>\n                <Icon className=\"icon--has-hover page-sub-heading-icon\" name=\"question-circle\" />\n              </Tooltip>\n            </>\n          )}\n          <div className=\"page-action-bar__spacer\" />\n          {groups.length > 0 && (\n            <Button className=\"pull-right\" onClick={this.onToggleAdding} disabled={isReadOnly}>\n              <Icon name=\"plus\" /> Add group\n            </Button>\n          )}\n        </div>\n\n        <SlideDown in={isAdding}>\n          <div className=\"cta-form\">\n            <CloseButton onClick={this.onToggleAdding} />\n            <h5>Add External Group</h5>\n            <form className=\"gf-form-inline\" onSubmit={this.onAddGroup}>\n              <div className=\"gf-form\">\n                <Input\n                  type=\"text\"\n                  className=\"gf-form-input width-30\"\n                  value={newGroupId}\n                  onChange={this.onNewGroupIdChanged}\n                  placeholder=\"cn=ops,ou=groups,dc=grafana,dc=org\"\n                  disabled={isReadOnly}\n                />\n              </div>\n\n              <div className=\"gf-form\">\n                <Button type=\"submit\" disabled={isReadOnly || !this.isNewGroupValid()}>\n                  Add group\n                </Button>\n              </div>\n            </form>\n          </div>\n        </SlideDown>\n\n        {groups.length === 0 &&\n          !isAdding &&\n          (highlightTrial() ? (\n            <TeamSyncUpgradeContent action={{ onClick: this.onToggleAdding, text: 'Add group' }} />\n          ) : (\n            <EmptyListCTA\n              onClick={this.onToggleAdding}\n              buttonIcon=\"users-alt\"\n              title=\"There are no external groups to sync with\"\n              buttonTitle=\"Add group\"\n              proTip={headerTooltip}\n              proTipLinkTitle=\"Learn more\"\n              proTipLink=\"https://docs.grafana.org/auth/enhanced_ldap/\"\n              proTipTarget=\"_blank\"\n              buttonDisabled={isReadOnly}\n            />\n          ))}\n\n        {groups.length > 0 && (\n          <div className=\"admin-list-table\">\n            <table className=\"filter-table filter-table--hover form-inline\">\n              <thead>\n                <tr>\n                  <th>External Group ID</th>\n                  <th style={{ width: '1%' }} />\n                </tr>\n              </thead>\n              <tbody>{groups.map((group) => this.renderGroup(group))}</tbody>\n            </table>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport const TeamSyncUpgradeContent = ({ action }: { action?: UpgradeContentProps['action'] }) => {\n  const theme = useTheme2();\n  return (\n    <UpgradeContent\n      action={action}\n      listItems={[\n        'Stop managing user access in two places - assign users to groups in SAML, LDAP or Oauth, and manage access at a Team level in Grafana',\n        'Update users’ permissions immediately when you add or remove them from an LDAP group, with no need for them to sign out and back in',\n      ]}\n      image={`team-sync-${theme.isLight ? 'light' : 'dark'}.png`}\n      featureName={'team sync'}\n      featureUrl={'https://grafana.com/docs/grafana/latest/enterprise/team-sync'}\n      description={\n        'Team Sync makes it easier for you to manage users’ access in Grafana, by immediately updating each user’s Grafana teams and permissions based on their single sign-on group membership, instead of when users sign in.'\n      }\n    />\n  );\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(TeamGroupSync);\n","import React, { FunctionComponent } from 'react';\n\nexport interface Props {\n  featureToggle: boolean;\n}\n\nexport const WithFeatureToggle: FunctionComponent<Props> = ({ featureToggle, children }) => {\n  if (featureToggle === true) {\n    return <>{children}</>;\n  }\n\n  return null;\n};\n","import React, { PureComponent } from 'react';\nimport { connect, ConnectedProps } from 'react-redux';\n\nimport { SelectableValue } from '@grafana/data';\nimport { LegacyForms, DeleteButton } from '@grafana/ui';\nimport { TagBadge } from 'app/core/components/TagFilter/TagBadge';\nimport { WithFeatureToggle } from 'app/core/components/WithFeatureToggle';\nimport { TeamMember, teamsPermissionLevels, TeamPermissionLevel } from 'app/types';\n\nimport { updateTeamMember, removeTeamMember } from './state/actions';\n\nconst { Select } = LegacyForms;\n\nconst mapDispatchToProps = {\n  removeTeamMember,\n  updateTeamMember,\n};\n\nconst connector = connect(null, mapDispatchToProps);\n\ninterface OwnProps {\n  member: TeamMember;\n  syncEnabled: boolean;\n  editorsCanAdmin: boolean;\n  signedInUserIsTeamAdmin: boolean;\n}\nexport type Props = ConnectedProps<typeof connector> & OwnProps;\n\nexport class TeamMemberRow extends PureComponent<Props> {\n  constructor(props: Props) {\n    super(props);\n    this.renderLabels = this.renderLabels.bind(this);\n    this.renderPermissions = this.renderPermissions.bind(this);\n  }\n\n  onRemoveMember(member: TeamMember) {\n    this.props.removeTeamMember(member.userId);\n  }\n\n  onPermissionChange = (item: SelectableValue<TeamPermissionLevel>, member: TeamMember) => {\n    const permission = item.value;\n    const updatedTeamMember: TeamMember = {\n      ...member,\n      permission: permission as number,\n    };\n\n    this.props.updateTeamMember(updatedTeamMember);\n  };\n\n  renderPermissions(member: TeamMember) {\n    const { editorsCanAdmin, signedInUserIsTeamAdmin } = this.props;\n    const value = teamsPermissionLevels.find((dp) => dp.value === member.permission)!;\n\n    return (\n      <WithFeatureToggle featureToggle={editorsCanAdmin}>\n        <td className=\"width-5 team-permissions\">\n          <div className=\"gf-form\">\n            {signedInUserIsTeamAdmin && (\n              <Select\n                menuShouldPortal\n                isSearchable={false}\n                options={teamsPermissionLevels}\n                onChange={(item) => this.onPermissionChange(item, member)}\n                className=\"gf-form-select-box__control--menu-right\"\n                value={value}\n              />\n            )}\n            {!signedInUserIsTeamAdmin && <span>{value.label}</span>}\n          </div>\n        </td>\n      </WithFeatureToggle>\n    );\n  }\n\n  renderLabels(labels: string[]) {\n    if (!labels) {\n      return <td />;\n    }\n\n    return (\n      <td>\n        {labels.map((label) => (\n          <TagBadge key={label} label={label} removeIcon={false} count={0} onClick={() => {}} />\n        ))}\n      </td>\n    );\n  }\n\n  render() {\n    const { member, syncEnabled, signedInUserIsTeamAdmin } = this.props;\n    return (\n      <tr key={member.userId}>\n        <td className=\"width-4 text-center\">\n          <img\n            aria-label={`Avatar for team member \"${member.name}\"`}\n            className=\"filter-table__avatar\"\n            src={member.avatarUrl}\n          />\n        </td>\n        <td>{member.login}</td>\n        <td>{member.email}</td>\n        <td>{member.name}</td>\n        {this.renderPermissions(member)}\n        {syncEnabled && this.renderLabels(member.labels)}\n        <td className=\"text-right\">\n          <DeleteButton\n            aria-label=\"Remove team member\"\n            size=\"sm\"\n            disabled={!signedInUserIsTeamAdmin}\n            onConfirm={() => this.onRemoveMember(member)}\n          />\n        </td>\n      </tr>\n    );\n  }\n}\n\nexport default connector(TeamMemberRow);\n","import React, { PureComponent } from 'react';\nimport { connect, ConnectedProps } from 'react-redux';\n\nimport { SelectableValue } from '@grafana/data';\nimport { Button, FilterInput, Label } from '@grafana/ui';\nimport { SlideDown } from 'app/core/components/Animations/SlideDown';\nimport { CloseButton } from 'app/core/components/CloseButton/CloseButton';\nimport { UserPicker } from 'app/core/components/Select/UserPicker';\nimport { TagBadge } from 'app/core/components/TagFilter/TagBadge';\nimport { WithFeatureToggle } from 'app/core/components/WithFeatureToggle';\nimport { config } from 'app/core/config';\nimport { contextSrv } from 'app/core/services/context_srv';\nimport { TeamMember, OrgUser } from 'app/types';\n\nimport TeamMemberRow from './TeamMemberRow';\nimport { addTeamMember } from './state/actions';\nimport { setSearchMemberQuery } from './state/reducers';\nimport { getSearchMemberQuery, isSignedInUserTeamAdmin } from './state/selectors';\n\nfunction mapStateToProps(state: any) {\n  return {\n    searchMemberQuery: getSearchMemberQuery(state.team),\n    editorsCanAdmin: config.editorsCanAdmin, // this makes the feature toggle mockable/controllable from tests,\n    signedInUser: contextSrv.user, // this makes the feature toggle mockable/controllable from tests,\n  };\n}\n\nconst mapDispatchToProps = {\n  addTeamMember,\n  setSearchMemberQuery,\n};\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\n\ninterface OwnProps {\n  members: TeamMember[];\n  syncEnabled: boolean;\n}\n\nexport type Props = ConnectedProps<typeof connector> & OwnProps;\n\nexport interface State {\n  isAdding: boolean;\n  newTeamMember?: SelectableValue<OrgUser['userId']> | null;\n}\n\nexport class TeamMembers extends PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { isAdding: false, newTeamMember: null };\n  }\n\n  onSearchQueryChange = (value: string) => {\n    this.props.setSearchMemberQuery(value);\n  };\n\n  onToggleAdding = () => {\n    this.setState({ isAdding: !this.state.isAdding });\n  };\n\n  onUserSelected = (user: SelectableValue<OrgUser['userId']>) => {\n    this.setState({ newTeamMember: user });\n  };\n\n  onAddUserToTeam = async () => {\n    this.props.addTeamMember(this.state.newTeamMember!.id);\n    this.setState({ newTeamMember: null });\n  };\n\n  renderLabels(labels: string[]) {\n    if (!labels) {\n      return <td />;\n    }\n\n    return (\n      <td>\n        {labels.map((label) => (\n          <TagBadge key={label} label={label} removeIcon={false} count={0} onClick={() => {}} />\n        ))}\n      </td>\n    );\n  }\n\n  render() {\n    const { isAdding } = this.state;\n    const { searchMemberQuery, members, syncEnabled, editorsCanAdmin, signedInUser } = this.props;\n    const isTeamAdmin = isSignedInUserTeamAdmin({ members, editorsCanAdmin, signedInUser });\n\n    return (\n      <div>\n        <div className=\"page-action-bar\">\n          <div className=\"gf-form gf-form--grow\">\n            <FilterInput placeholder=\"Search members\" value={searchMemberQuery} onChange={this.onSearchQueryChange} />\n          </div>\n          <Button className=\"pull-right\" onClick={this.onToggleAdding} disabled={isAdding || !isTeamAdmin}>\n            Add member\n          </Button>\n        </div>\n\n        <SlideDown in={isAdding}>\n          <div className=\"cta-form\">\n            <CloseButton aria-label=\"Close 'Add team member' dialogue\" onClick={this.onToggleAdding} />\n            <Label htmlFor=\"user-picker\">Add team member</Label>\n            <div className=\"gf-form-inline\">\n              <UserPicker inputId=\"user-picker\" onSelected={this.onUserSelected} className=\"min-width-30\" />\n              {this.state.newTeamMember && (\n                <Button type=\"submit\" onClick={this.onAddUserToTeam}>\n                  Add to team\n                </Button>\n              )}\n            </div>\n          </div>\n        </SlideDown>\n\n        <div className=\"admin-list-table\">\n          <table className=\"filter-table filter-table--hover form-inline\">\n            <thead>\n              <tr>\n                <th />\n                <th>Login</th>\n                <th>Email</th>\n                <th>Name</th>\n                <WithFeatureToggle featureToggle={editorsCanAdmin}>\n                  <th>Permission</th>\n                </WithFeatureToggle>\n                {syncEnabled && <th />}\n                <th style={{ width: '1%' }} />\n              </tr>\n            </thead>\n            <tbody>\n              {members &&\n                members.map((member) => (\n                  <TeamMemberRow\n                    key={member.userId}\n                    member={member}\n                    syncEnabled={syncEnabled}\n                    editorsCanAdmin={editorsCanAdmin}\n                    signedInUserIsTeamAdmin={isTeamAdmin}\n                  />\n                ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connector(TeamMembers);\n","import React from 'react';\n\nimport { Permissions } from 'app/core/components/AccessControl';\nimport { contextSrv } from 'app/core/services/context_srv';\n\nimport { AccessControlAction, Team } from '../../types';\n\ntype TeamPermissionsProps = {\n  team: Team;\n};\n\n// TeamPermissions component replaces TeamMembers component when the accesscontrol feature flag is set\nconst TeamPermissions = (props: TeamPermissionsProps) => {\n  const canListUsers = contextSrv.hasPermission(AccessControlAction.OrgUsersRead);\n  const canSetPermissions = contextSrv.hasPermissionInMetadata(\n    AccessControlAction.ActionTeamsPermissionsWrite,\n    props.team\n  );\n\n  return (\n    <Permissions\n      title=\"Members\"\n      addPermissionTitle=\"Add member\"\n      buttonLabel=\"Add member\"\n      resource=\"teams\"\n      resourceId={props.team.id}\n      canListUsers={canListUsers}\n      canSetPermissions={canSetPermissions}\n    />\n  );\n};\n\nexport default TeamPermissions;\n","import React, { FC } from 'react';\nimport { connect, ConnectedProps } from 'react-redux';\n\nimport { Input, Field, Form, Button, FieldSet, VerticalGroup } from '@grafana/ui';\nimport { SharedPreferences } from 'app/core/components/SharedPreferences/SharedPreferences';\nimport { contextSrv } from 'app/core/core';\nimport { AccessControlAction, Team } from 'app/types';\n\nimport { updateTeam } from './state/actions';\n\nconst mapDispatchToProps = {\n  updateTeam,\n};\n\nconst connector = connect(null, mapDispatchToProps);\n\ninterface OwnProps {\n  team: Team;\n}\nexport type Props = ConnectedProps<typeof connector> & OwnProps;\n\nexport const TeamSettings: FC<Props> = ({ team, updateTeam }) => {\n  const canWriteTeamSettings = contextSrv.hasPermissionInMetadata(AccessControlAction.ActionTeamsWrite, team);\n\n  return (\n    <VerticalGroup>\n      <FieldSet label=\"Team settings\">\n        <Form\n          defaultValues={{ ...team }}\n          onSubmit={(formTeam: Team) => {\n            updateTeam(formTeam.name, formTeam.email);\n          }}\n          disabled={!canWriteTeamSettings}\n        >\n          {({ register }) => (\n            <>\n              <Field label=\"Name\" disabled={!canWriteTeamSettings}>\n                <Input {...register('name', { required: true })} id=\"name-input\" />\n              </Field>\n\n              <Field\n                label=\"Email\"\n                description=\"This is optional and is primarily used to set the team profile avatar (via gravatar service).\"\n                disabled={!canWriteTeamSettings}\n              >\n                <Input {...register('email')} placeholder=\"team@email.com\" type=\"email\" id=\"email-input\" />\n              </Field>\n              <Button type=\"submit\" disabled={!canWriteTeamSettings}>\n                Update\n              </Button>\n            </>\n          )}\n        </Form>\n      </FieldSet>\n      <SharedPreferences resourceUri={`teams/${team.id}`} disabled={!canWriteTeamSettings} />\n    </VerticalGroup>\n  );\n};\n\nexport default connector(TeamSettings);\n","import { includes } from 'lodash';\nimport React, { PureComponent } from 'react';\nimport { connect, ConnectedProps } from 'react-redux';\n\nimport { NavModel } from '@grafana/data';\nimport { featureEnabled } from '@grafana/runtime';\nimport { Themeable2, withTheme2 } from '@grafana/ui';\nimport Page from 'app/core/components/Page/Page';\nimport { UpgradeBox } from 'app/core/components/Upgrade/UpgradeBox';\nimport config from 'app/core/config';\nimport { GrafanaRouteComponentProps } from 'app/core/navigation/types';\nimport { getNavModel } from 'app/core/selectors/navModel';\nimport { contextSrv } from 'app/core/services/context_srv';\nimport { AccessControlAction, StoreState } from 'app/types';\n\nimport TeamGroupSync, { TeamSyncUpgradeContent } from './TeamGroupSync';\nimport TeamMembers from './TeamMembers';\nimport TeamPermissions from './TeamPermissions';\nimport TeamSettings from './TeamSettings';\nimport { loadTeam, loadTeamMembers } from './state/actions';\nimport { getTeamLoadingNav } from './state/navModel';\nimport { getTeam, getTeamMembers, isSignedInUserTeamAdmin } from './state/selectors';\n\ninterface TeamPageRouteParams {\n  id: string;\n  page: string | null;\n}\n\nexport interface OwnProps extends GrafanaRouteComponentProps<TeamPageRouteParams>, Themeable2 {}\n\ninterface State {\n  isSyncEnabled: boolean;\n  isLoading: boolean;\n}\n\nenum PageTypes {\n  Members = 'members',\n  Settings = 'settings',\n  GroupSync = 'groupsync',\n}\n\nfunction mapStateToProps(state: StoreState, props: OwnProps) {\n  const teamId = parseInt(props.match.params.id, 10);\n  const team = getTeam(state.team, teamId);\n  let defaultPage = 'members';\n  if (contextSrv.accessControlEnabled()) {\n    // With FGAC the settings page will always be available\n    if (!team || !contextSrv.hasPermissionInMetadata(AccessControlAction.ActionTeamsPermissionsRead, team)) {\n      defaultPage = 'settings';\n    }\n  }\n  const pageName = props.match.params.page ?? defaultPage;\n  const teamLoadingNav = getTeamLoadingNav(pageName as string);\n  const navModel = getNavModel(state.navIndex, `team-${pageName}-${teamId}`, teamLoadingNav);\n  const members = getTeamMembers(state.team);\n\n  return {\n    navModel,\n    teamId: teamId,\n    pageName: pageName,\n    team,\n    members,\n    editorsCanAdmin: config.editorsCanAdmin, // this makes the feature toggle mockable/controllable from tests,\n    signedInUser: contextSrv.user, // this makes the feature toggle mockable/controllable from tests,\n  };\n}\n\nconst mapDispatchToProps = {\n  loadTeam,\n  loadTeamMembers,\n};\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\n\nexport type Props = OwnProps & ConnectedProps<typeof connector>;\n\nexport class TeamPages extends PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      isLoading: false,\n      isSyncEnabled: featureEnabled('teamsync'),\n    };\n  }\n\n  async componentDidMount() {\n    await this.fetchTeam();\n  }\n\n  async fetchTeam() {\n    const { loadTeam, teamId } = this.props;\n    this.setState({ isLoading: true });\n    const team = await loadTeam(teamId);\n    // With accesscontrol, the TeamPermissions will fetch team members\n    if (!contextSrv.accessControlEnabled()) {\n      await this.props.loadTeamMembers();\n    }\n    this.setState({ isLoading: false });\n    return team;\n  }\n\n  getCurrentPage() {\n    const pages = ['members', 'settings', 'groupsync'];\n    const currentPage = this.props.pageName;\n    return includes(pages, currentPage) ? currentPage : pages[0];\n  }\n\n  textsAreEqual = (text1: string, text2: string) => {\n    if (!text1 && !text2) {\n      return true;\n    }\n\n    if (!text1 || !text2) {\n      return false;\n    }\n\n    return text1.toLocaleLowerCase() === text2.toLocaleLowerCase();\n  };\n\n  hideTabsFromNonTeamAdmin = (navModel: NavModel, isSignedInUserTeamAdmin: boolean) => {\n    if (contextSrv.accessControlEnabled()) {\n      return navModel;\n    }\n\n    if (!isSignedInUserTeamAdmin && navModel.main && navModel.main.children) {\n      navModel.main.children\n        .filter((navItem) => !this.textsAreEqual(navItem.text, PageTypes.Members))\n        .map((navItem) => {\n          navItem.hideFromTabs = true;\n        });\n    }\n\n    return navModel;\n  };\n\n  renderPage(isSignedInUserTeamAdmin: boolean): React.ReactNode {\n    const { isSyncEnabled } = this.state;\n    const { members, team } = this.props;\n    const currentPage = this.getCurrentPage();\n\n    const canReadTeam = contextSrv.hasAccessInMetadata(\n      AccessControlAction.ActionTeamsRead,\n      team!,\n      isSignedInUserTeamAdmin\n    );\n    const canReadTeamPermissions = contextSrv.hasAccessInMetadata(\n      AccessControlAction.ActionTeamsPermissionsRead,\n      team!,\n      isSignedInUserTeamAdmin\n    );\n    const canWriteTeamPermissions = contextSrv.hasAccessInMetadata(\n      AccessControlAction.ActionTeamsPermissionsWrite,\n      team!,\n      isSignedInUserTeamAdmin\n    );\n\n    switch (currentPage) {\n      case PageTypes.Members:\n        if (contextSrv.accessControlEnabled()) {\n          return <TeamPermissions team={team!} />;\n        } else {\n          return <TeamMembers syncEnabled={isSyncEnabled} members={members} />;\n        }\n      case PageTypes.Settings:\n        return canReadTeam && <TeamSettings team={team!} />;\n      case PageTypes.GroupSync:\n        if (isSyncEnabled) {\n          if (canReadTeamPermissions) {\n            return <TeamGroupSync isReadOnly={!canWriteTeamPermissions} />;\n          }\n        } else if (config.featureToggles.featureHighlights) {\n          return (\n            <>\n              <UpgradeBox featureName={'team sync'} featureId={'team-sync'} />\n              <TeamSyncUpgradeContent />\n            </>\n          );\n        }\n    }\n\n    return null;\n  }\n\n  render() {\n    const { team, navModel, members, editorsCanAdmin, signedInUser } = this.props;\n    const isTeamAdmin = isSignedInUserTeamAdmin({ members, editorsCanAdmin, signedInUser });\n\n    return (\n      <Page navModel={this.hideTabsFromNonTeamAdmin(navModel, isTeamAdmin)}>\n        <Page.Contents isLoading={this.state.isLoading}>\n          {team && Object.keys(team).length !== 0 && this.renderPage(isTeamAdmin)}\n        </Page.Contents>\n      </Page>\n    );\n  }\n}\n\nexport default connector(withTheme2(TeamPages));\n","import { getBackendSrv } from '@grafana/runtime';\nimport { updateNavIndex } from 'app/core/actions';\nimport { contextSrv } from 'app/core/core';\nimport { accessControlQueryParam } from 'app/core/utils/accessControl';\nimport { AccessControlAction, TeamMember, ThunkResult } from 'app/types';\n\nimport { buildNavModel } from './navModel';\nimport { teamGroupsLoaded, teamLoaded, teamMembersLoaded, teamsLoaded } from './reducers';\n\nexport function loadTeams(): ThunkResult<void> {\n  return async (dispatch) => {\n    // Early return if the user cannot list teams\n    if (!contextSrv.hasPermission(AccessControlAction.ActionTeamsRead)) {\n      dispatch(teamsLoaded([]));\n      return;\n    }\n\n    const response = await getBackendSrv().get(\n      '/api/teams/search',\n      accessControlQueryParam({ perpage: 1000, page: 1 })\n    );\n    dispatch(teamsLoaded(response.teams));\n  };\n}\n\nexport function loadTeam(id: number): ThunkResult<void> {\n  return async (dispatch) => {\n    const response = await getBackendSrv().get(`/api/teams/${id}`, accessControlQueryParam());\n    dispatch(teamLoaded(response));\n    dispatch(updateNavIndex(buildNavModel(response)));\n  };\n}\n\nexport function loadTeamMembers(): ThunkResult<void> {\n  return async (dispatch, getStore) => {\n    const team = getStore().team.team;\n    const response = await getBackendSrv().get(`/api/teams/${team.id}/members`);\n    dispatch(teamMembersLoaded(response));\n  };\n}\n\nexport function addTeamMember(id: number): ThunkResult<void> {\n  return async (dispatch, getStore) => {\n    const team = getStore().team.team;\n    await getBackendSrv().post(`/api/teams/${team.id}/members`, { userId: id });\n    dispatch(loadTeamMembers());\n  };\n}\n\nexport function removeTeamMember(id: number): ThunkResult<void> {\n  return async (dispatch, getStore) => {\n    const team = getStore().team.team;\n    await getBackendSrv().delete(`/api/teams/${team.id}/members/${id}`);\n    dispatch(loadTeamMembers());\n  };\n}\n\nexport function updateTeam(name: string, email: string): ThunkResult<void> {\n  return async (dispatch, getStore) => {\n    const team = getStore().team.team;\n    await getBackendSrv().put(`/api/teams/${team.id}`, { name, email });\n    dispatch(loadTeam(team.id));\n  };\n}\n\nexport function loadTeamGroups(): ThunkResult<void> {\n  return async (dispatch, getStore) => {\n    const team = getStore().team.team;\n    const response = await getBackendSrv().get(`/api/teams/${team.id}/groups`);\n    dispatch(teamGroupsLoaded(response));\n  };\n}\n\nexport function addTeamGroup(groupId: string): ThunkResult<void> {\n  return async (dispatch, getStore) => {\n    const team = getStore().team.team;\n    await getBackendSrv().post(`/api/teams/${team.id}/groups`, { groupId: groupId });\n    dispatch(loadTeamGroups());\n  };\n}\n\nexport function removeTeamGroup(groupId: string): ThunkResult<void> {\n  return async (dispatch, getStore) => {\n    const team = getStore().team.team;\n    await getBackendSrv().delete(`/api/teams/${team.id}/groups/${encodeURIComponent(groupId)}`);\n    dispatch(loadTeamGroups());\n  };\n}\n\nexport function deleteTeam(id: number): ThunkResult<void> {\n  return async (dispatch) => {\n    await getBackendSrv().delete(`/api/teams/${id}`);\n    // Update users permissions in case they lost teams.read with the deletion\n    await contextSrv.fetchUserPermissions();\n    dispatch(loadTeams());\n  };\n}\n\nexport function updateTeamMember(member: TeamMember): ThunkResult<void> {\n  return async (dispatch) => {\n    await getBackendSrv().put(`/api/teams/${member.teamId}/members/${member.userId}`, {\n      permission: member.permission,\n    });\n    dispatch(loadTeamMembers());\n  };\n}\n","import { NavModelItem, NavModel } from '@grafana/data';\nimport { featureEnabled } from '@grafana/runtime';\nimport { ProBadge } from 'app/core/components/Upgrade/ProBadge';\nimport config from 'app/core/config';\nimport { contextSrv } from 'app/core/services/context_srv';\nimport { highlightTrial } from 'app/features/admin/utils';\nimport { AccessControlAction, Team, TeamPermissionLevel } from 'app/types';\n\nconst loadingTeam = {\n  avatarUrl: 'public/img/user_profile.png',\n  id: 1,\n  name: 'Loading',\n  email: 'loading',\n  memberCount: 0,\n  permission: TeamPermissionLevel.Member,\n};\n\nexport function buildNavModel(team: Team): NavModelItem {\n  const navModel: NavModelItem = {\n    img: team.avatarUrl,\n    id: 'team-' + team.id,\n    subTitle: 'Manage members and settings',\n    url: '',\n    text: team.name,\n    breadcrumbs: [{ title: 'Teams', url: 'org/teams' }],\n    children: [\n      // With FGAC this tab will always be available (but not always editable)\n      // With Legacy it will be hidden by hideTabsFromNonTeamAdmin should the user not be allowed to see it\n      {\n        active: false,\n        icon: 'sliders-v-alt',\n        id: `team-settings-${team.id}`,\n        text: 'Settings',\n        url: `org/teams/edit/${team.id}/settings`,\n      },\n    ],\n  };\n\n  // While team is loading we leave the members tab\n  // With FGAC the Members tab is available when user has ActionTeamsPermissionsRead for this team\n  // With Legacy it will always be present\n  if (\n    team === loadingTeam ||\n    contextSrv.hasPermissionInMetadata(AccessControlAction.ActionTeamsPermissionsRead, team)\n  ) {\n    navModel.children!.unshift({\n      active: false,\n      icon: 'users-alt',\n      id: `team-members-${team.id}`,\n      text: 'Members',\n      url: `org/teams/edit/${team.id}/members`,\n    });\n  }\n\n  const teamGroupSync: NavModelItem = {\n    active: false,\n    icon: 'sync',\n    id: `team-groupsync-${team.id}`,\n    text: 'External group sync',\n    url: `org/teams/edit/${team.id}/groupsync`,\n  };\n\n  const isLoadingTeam = team === loadingTeam;\n\n  if (highlightTrial()) {\n    teamGroupSync.tabSuffix = () =>\n      ProBadge({ experimentId: isLoadingTeam ? '' : 'feature-highlights-team-sync-badge', eventVariant: 'trial' });\n  }\n\n  // With both Legacy and FGAC the tab is protected being featureEnabled\n  // While team is loading we leave the teamsync tab\n  // With FGAC the External Group Sync tab is available when user has ActionTeamsPermissionsRead for this team\n  if (featureEnabled('teamsync')) {\n    if (isLoadingTeam || contextSrv.hasPermissionInMetadata(AccessControlAction.ActionTeamsPermissionsRead, team)) {\n      navModel.children!.push(teamGroupSync);\n    }\n  } else if (config.featureToggles.featureHighlights) {\n    navModel.children!.push({\n      ...teamGroupSync,\n      tabSuffix: () => ProBadge({ experimentId: isLoadingTeam ? '' : 'feature-highlights-team-sync-badge' }),\n    });\n  }\n\n  return navModel;\n}\n\nexport function getTeamLoadingNav(pageName: string): NavModel {\n  const main = buildNavModel(loadingTeam);\n\n  let node: NavModelItem;\n\n  // find active page\n  for (const child of main.children!) {\n    if (child.id!.indexOf(pageName) > 0) {\n      child.active = true;\n      node = child;\n      break;\n    }\n  }\n\n  return {\n    main: main,\n    node: node!,\n  };\n}\n","import { User } from 'app/core/services/context_srv';\nimport { Team, TeamsState, TeamState, TeamMember, OrgRole, TeamPermissionLevel } from 'app/types';\n\nexport const getSearchQuery = (state: TeamsState) => state.searchQuery;\nexport const getSearchMemberQuery = (state: TeamState) => state.searchMemberQuery;\nexport const getTeamGroups = (state: TeamState) => state.groups;\nexport const getTeamsCount = (state: TeamsState) => state.teams.length;\nexport const getTeamsSearchPage = (state: TeamsState) => state.searchPage;\n\nexport const getTeam = (state: TeamState, currentTeamId: any): Team | null => {\n  if (state.team.id === parseInt(currentTeamId, 10)) {\n    return state.team;\n  }\n\n  return null;\n};\n\nexport const getTeams = (state: TeamsState) => {\n  const regex = RegExp(state.searchQuery, 'i');\n\n  return state.teams.filter((team) => {\n    return regex.test(team.name);\n  });\n};\n\nexport const getTeamMembers = (state: TeamState) => {\n  const regex = RegExp(state.searchMemberQuery, 'i');\n\n  return state.members.filter((member) => {\n    return regex.test(member.login) || regex.test(member.email) || regex.test(member.name);\n  });\n};\n\nexport interface Config {\n  members: TeamMember[];\n  editorsCanAdmin: boolean;\n  signedInUser: User;\n}\n\nexport const isSignedInUserTeamAdmin = (config: Config): boolean => {\n  const { members, signedInUser, editorsCanAdmin } = config;\n  const userInMembers = members.find((m) => m.userId === signedInUser.id);\n  const permission = userInMembers ? userInMembers.permission : TeamPermissionLevel.Member;\n\n  return isPermissionTeamAdmin({ permission, signedInUser, editorsCanAdmin });\n};\n\nexport interface PermissionConfig {\n  permission: TeamPermissionLevel;\n  editorsCanAdmin: boolean;\n  signedInUser: User;\n}\n\nexport const isPermissionTeamAdmin = (config: PermissionConfig): boolean => {\n  const { permission, signedInUser, editorsCanAdmin } = config;\n  const isAdmin = signedInUser.isGrafanaAdmin || signedInUser.orgRole === OrgRole.Admin;\n  const userIsTeamAdmin = permission === TeamPermissionLevel.Admin;\n  const isSignedInUserTeamAdmin = isAdmin || userIsTeamAdmin;\n\n  return isSignedInUserTeamAdmin || !editorsCanAdmin;\n};\n"],"names":["themes","value","label","id","SharedPreferences","PureComponent","constructor","props","super","async","homeDashboardId","theme","timezone","weekStart","this","state","service","update","window","location","reload","setState","dashboardId","dashboard","folderTitle","title","PreferencesService","resourceUri","dashboards","prefs","load","backendSrv","starred","find","d","missing","dashboardIds","length","push","tags","type","uid","uri","url","folderId","folderUid","folderUrl","isStarred","slug","items","render","disabled","styles","getStyles","homeDashboardTooltip","Tooltip","content","Icon","name","Form","onSubmit","onSubmitForm","FieldSet","Field","RadioButtonGroup","options","item","onChange","onThemeChanged","Label","htmlFor","className","labelText","Select","menuShouldPortal","getOptionValue","i","getOptionLabel","getFullDashName","onHomeDashboardChanged","placeholder","inputId","selectors","TimeZonePicker","includeInternal","onTimeZoneChanged","WeekStartPicker","onWeekStartChanged","Button","variant","stylesFactory","css","Input","LegacyForms","mapStateToProps","groups","getTeamGroups","team","mapDispatchToProps","loadTeamGroups","addTeamGroup","removeTeamGroup","headerTooltip","connect","TeamGroupSync","isAdding","event","newGroupId","target","preventDefault","group","groupId","componentDidMount","fetchTeamGroups","isNewGroupValid","renderGroup","isReadOnly","style","width","size","onClick","onRemoveGroup","highlightTrial","UpgradeBox","featureId","eventVariant","featureName","text","placement","onToggleAdding","SlideDown","in","CloseButton","onAddGroup","onNewGroupIdChanged","TeamSyncUpgradeContent","action","EmptyListCTA","buttonIcon","buttonTitle","proTip","proTipLinkTitle","proTipLink","proTipTarget","buttonDisabled","map","useTheme2","listItems","image","isLight","featureUrl","description","WithFeatureToggle","featureToggle","children","removeTeamMember","updateTeamMember","connector","TeamMemberRow","member","permission","updatedTeamMember","renderLabels","bind","renderPermissions","onRemoveMember","userId","editorsCanAdmin","signedInUserIsTeamAdmin","teamsPermissionLevels","dp","isSearchable","onPermissionChange","labels","TagBadge","removeIcon","count","syncEnabled","src","avatarUrl","login","email","DeleteButton","onConfirm","addTeamMember","setSearchMemberQuery","searchMemberQuery","getSearchMemberQuery","config","signedInUser","contextSrv","TeamMembers","user","newTeamMember","members","isTeamAdmin","isSignedInUserTeamAdmin","FilterInput","onSearchQueryChange","UserPicker","onSelected","onUserSelected","onAddUserToTeam","canListUsers","AccessControlAction","canSetPermissions","P","addPermissionTitle","buttonLabel","resource","resourceId","updateTeam","canWriteTeamSettings","VerticalGroup","defaultValues","formTeam","register","required","PageTypes","loadTeam","loadTeamMembers","teamId","parseInt","match","params","getTeam","defaultPage","pageName","page","teamLoadingNav","getTeamLoadingNav","navModel","getNavModel","navIndex","getTeamMembers","TeamPages","text1","text2","toLocaleLowerCase","main","filter","navItem","textsAreEqual","Members","hideFromTabs","isLoading","isSyncEnabled","featureEnabled","fetchTeam","getCurrentPage","pages","currentPage","includes","renderPage","canReadTeam","canReadTeamPermissions","canWriteTeamPermissions","Settings","GroupSync","Page","hideTabsFromNonTeamAdmin","Object","keys","withTheme2","loadTeams","dispatch","teamsLoaded","response","getBackendSrv","get","accessControlQueryParam","perpage","teams","teamLoaded","updateNavIndex","buildNavModel","getStore","teamMembersLoaded","post","delete","put","teamGroupsLoaded","encodeURIComponent","deleteTeam","loadingTeam","memberCount","TeamPermissionLevel","img","subTitle","breadcrumbs","active","icon","unshift","teamGroupSync","isLoadingTeam","tabSuffix","ProBadge","experimentId","node","child","indexOf","getSearchQuery","searchQuery","getTeamsCount","getTeamsSearchPage","searchPage","currentTeamId","getTeams","regex","RegExp","test","userInMembers","m","isPermissionTeamAdmin","isAdmin","isGrafanaAdmin","orgRole","OrgRole","userIsTeamAdmin"],"sourceRoot":""}